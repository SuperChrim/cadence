/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.monitoring_bundle_jsonpfunction=window.monitoring_bundle_jsonpfunction||[]).push([[9],{227:function(e,t,a){"use strict";a.r(t),a.d(t,"createMissingMonitoringDataAlertType",(function(){return g}));var n=a(35),s=a.n(n),r=a(11),i=a(0);function l(e){const t={errors:{}},a={duration:[],limit:[]};return e.duration||a.duration.push(i.i18n.translate("xpack.monitoring.alerts.missingData.validation.duration",{defaultMessage:"A valid duration is required."})),e.limit||a.limit.push(i.i18n.translate("xpack.monitoring.alerts.missingData.validation.limit",{defaultMessage:"A valid limit is required."})),t.errors=a,t}var o=a(2),u=a(13),c=a(36),m=a(1),d=a(37),p=a(12);const b=e=>{const{alertParams:t,paramDetails:a,setAlertParams:n,errors:s}=e,i=Object.keys(t).map((e=>{const r=a[e],i=t[e];switch(null==r?void 0:r.type){case m.b.Duration:return Object(p.jsx)(c.a,{key:e,name:e,duration:i,label:r.label,errors:s[e],setAlertParams:n});case m.b.Percentage:return Object(p.jsx)(d.a,{key:e,name:e,label:r.label,percentage:i,errors:s[e],setAlertParams:n})}}));return Object(p.jsx)(r.Fragment,null,Object(p.jsx)(u.EuiForm,{component:"form"},i),Object(p.jsx)(u.EuiSpacer,null))};function g(){return{id:o.Q,description:o.I[o.Q].description,iconClass:"bell",documentationUrl:e=>`${e.links.monitoring.alertsKibanaMissingData}`,alertParamsExpression:e=>Object(p.jsx)(b,s()({},e,{paramDetails:o.I[o.Q].paramDetails})),validate:l,defaultActionMessage:"{{context.internalFullMessage}}",requiresAppContext:o.T}}},35:function(e,t,a){e.exports=a(7)(1074)},36:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n,s=a(11),r=a.n(s),i=a(0),l=a(13),o=a(12);function u(e=n.SECOND,t="0"){switch(e){case n.SECOND:return i.i18n.translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.secondLabel",{defaultMessage:"{timeValue, plural, one {second} other {seconds}}",values:{timeValue:t}});case n.MINUTE:return i.i18n.translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.minuteLabel",{defaultMessage:"{timeValue, plural, one {minute} other {minutes}}",values:{timeValue:t}});case n.HOUR:return i.i18n.translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.hourLabel",{defaultMessage:"{timeValue, plural, one {hour} other {hours}}",values:{timeValue:t}});case n.DAY:return i.i18n.translate("xpack.monitoring.alerts.flyoutExpressions.timeUnits.dayLabel",{defaultMessage:"{timeValue, plural, one {day} other {days}}",values:{timeValue:t}})}}!function(e){e.SECOND="s",e.MINUTE="m",e.HOUR="h",e.DAY="d"}(n||(n={}));const c=/(\d+)([smhd]{1})/,m=e=>{const{name:t,label:a,setAlertParams:s,errors:i}=e,m=c.exec(e.duration),d=m&&m[1]?parseInt(m[1],10):1,p=m&&m[2]?m[2]:n.MINUTE,[b,g]=r.a.useState(d),[x,j]=r.a.useState(p),f=Object.values(n).map((e=>({value:e,text:u(e)})));return r.a.useEffect((()=>{s(t,`${b}${x}`)}),[x,b]),Object(o.jsx)(l.EuiFormRow,{label:a,error:i,isInvalid:(null==i?void 0:i.length)>0},Object(o.jsx)(l.EuiFlexGroup,null,Object(o.jsx)(l.EuiFlexItem,{grow:2},Object(o.jsx)(l.EuiFieldNumber,{compressed:!0,value:b,onChange:e=>{let t=parseInt(e.target.value,10);isNaN(t)&&(t=0),g(t)}})),Object(o.jsx)(l.EuiFlexItem,{grow:4},Object(o.jsx)(l.EuiSelect,{compressed:!0,value:x,onChange:e=>j(e.target.value),options:f}))))}},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(11),s=a.n(n),r=a(13),i=a(12);const l=e=>{const{name:t,label:a,setAlertParams:n,errors:l}=e,[o,u]=s.a.useState(e.percentage);return Object(i.jsx)(r.EuiFormRow,{label:a,error:l,isInvalid:l.length>0},Object(i.jsx)(r.EuiFieldNumber,{compressed:!0,value:o,append:Object(i.jsx)(r.EuiText,{size:"xs"},Object(i.jsx)("strong",null,"%")),onChange:e=>{let a=parseInt(e.target.value,10);isNaN(a)&&(a=0),u(a),n(t,a)}}))}}}]);