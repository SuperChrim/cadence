/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[6],{183:function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigureCases",(function(){return G}));var a=n(2),r=n.n(a),o=n(33),s=n.n(o),c=n(35),i=n(6),u=n(3),l=n(20),d=n(65),p=n(13),m=n(59);var g=n(87),f=n(93),b=n(70),y=n(52),C=n(21);const E=({isLoading:e,casesField:t,selectedActionType:n,selectedThirdParty:o})=>{const s=Object(a.useMemo)((()=>Object(C.capitalize)(n)),[n]);return r.a.createElement(i.EuiFlexGroup,{"data-test-subj":"static-mappings",alignItems:"center",responsive:!1},r.a.createElement(i.EuiFlexItem,null,r.a.createElement(i.EuiFlexGroup,{component:"span",justifyContent:"spaceBetween",responsive:!1},r.a.createElement(i.EuiFlexItem,{component:"span",grow:!1},r.a.createElement(i.EuiCode,{"data-test-subj":"field-mapping-source"},t)),r.a.createElement(i.EuiFlexItem,{component:"span",grow:!1},r.a.createElement(i.EuiIcon,{type:"sortRight"})))),r.a.createElement(i.EuiFlexItem,null,r.a.createElement(i.EuiFlexGroup,{component:"span",justifyContent:"spaceBetween",responsive:!1},r.a.createElement(i.EuiFlexItem,{component:"span",grow:!1},e?r.a.createElement(i.EuiLoadingSpinner,{size:"m"}):r.a.createElement(i.EuiCode,{"data-test-subj":"field-mapping-target"},o)))),r.a.createElement(i.EuiFlexItem,null,e?r.a.createElement(i.EuiLoadingSpinner,{size:"m"}):s))},h=r.a.memo(E),j=s.a.div.withConfig({displayName:"FieldRowWrapper",componentId:"sc-lo3da2-0"})(["margin:10px 0;font-size:14px;"]),w=({actionTypeName:e,isLoading:t,mappings:n})=>n.length?r.a.createElement(i.EuiFlexGroup,{direction:"column",gutterSize:"none"},r.a.createElement(i.EuiFlexItem,null," ",r.a.createElement(i.EuiFlexGroup,{responsive:!1},r.a.createElement(i.EuiFlexItem,null,r.a.createElement("span",{className:"euiFormLabel"},y.l)),r.a.createElement(i.EuiFlexItem,{"data-test-subj":"case-configure-field-mappings-second-col-label"},r.a.createElement("span",{className:"euiFormLabel"},y.m(e))),r.a.createElement(i.EuiFlexItem,null,r.a.createElement("span",{className:"euiFormLabel"},y.n)))),r.a.createElement(i.EuiFlexItem,null,r.a.createElement(j,{"data-test-subj":"case-configure-field-mappings-row-wrapper"},n.map((e=>{var n;return r.a.createElement(h,{key:`${e.source}`,casesField:e.source,isLoading:t,selectedActionType:e.actionType,selectedThirdParty:null!==(n=e.target)&&void 0!==n?n:"not_mapped"})}))))):null,O=r.a.memo(w),v=({actionTypeName:e,isLoading:t,mappings:n})=>{const o=Object(a.useMemo)((()=>n.length>0||t?{desc:y.j(e),color:"subdued"}:{desc:y.k(e),color:"danger"}),[t,n.length,e]);return r.a.createElement(i.EuiFlexGroup,{direction:"column",gutterSize:"none"},r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(i.EuiText,{size:"xs","data-test-subj":"field-mapping-text"},r.a.createElement("h4",null,y.o(e)),r.a.createElement(i.EuiTextColor,{"data-test-subj":"field-mapping-desc",color:o.color},o.desc))),r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(O,{actionTypeName:e,"data-test-subj":"case-mappings-field",isLoading:t,mappings:n})))},x=r.a.memo(v);var T=n(66),S=n(47);const k=s()(i.EuiFormRow).withConfig({displayName:"EuiFormRowExtended",componentId:"sc-h7jvjf-0"})([".euiFormRow__labelWrapper{.euiFormRow__label{width:100%;}}"]),F=({actionTypes:e,connectors:t,disabled:n,handleShowEditFlyout:o,isLoading:s,mappings:c,onChangeConnector:l,selectedConnector:d,updateConnectorDisabled:p})=>{var m;const g=Object(a.useMemo)((()=>t.find((e=>e.id===d.id))),[t,d.id]),f=null!==(m=null==g?void 0:g.name)&&void 0!==m?m:"none",C=Object(a.useMemo)((()=>{var t,n;return null!==(t=null===(n=e.find((e=>e.id===d.type)))||void 0===n?void 0:n.name)&&void 0!==t?t:"Unknown"}),[e,d.type]),E=Object(a.useMemo)((()=>r.a.createElement(i.EuiFlexGroup,{justifyContent:"spaceBetween"},r.a.createElement(i.EuiFlexItem,{grow:!1},y.q),r.a.createElement(i.EuiFlexItem,{grow:!1},"none"!==f&&r.a.createElement(i.EuiLink,{disabled:p,onClick:o,"data-test-subj":"case-configure-update-selected-connector-button"},y.u(f))))),[f,o,p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.EuiDescribedFormGroup,{fullWidth:!0,title:r.a.createElement("h3",null,y.r),description:y.p,"data-test-subj":"case-connectors-form-group"},r.a.createElement(k,{fullWidth:!0,label:E,"data-test-subj":"case-connectors-form-row"},r.a.createElement(i.EuiFlexGroup,{direction:"column"},r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(b.a,{connectors:t,disabled:n,selectedConnector:d.id,isLoading:s,onChange:l,"data-test-subj":"case-connectors-dropdown",appendAddConnectorButton:!0})),d.type!==u.ConnectorTypes.none&&Object(S.d)(g)&&r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(T.a,null)),d.type!==u.ConnectorTypes.none?r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(x,{actionTypeName:C,isLoading:s,mappings:c})):null))))},M=r.a.memo(F),I=[{id:"close-by-user",label:y.d},{id:"close-by-pushing",label:y.e}],N=({closureTypeSelected:e,disabled:t,onChangeClosureType:n})=>{const o=Object(a.useCallback)((e=>{n(e)}),[n]);return r.a.createElement(i.EuiRadioGroup,{disabled:t,options:I,idSelected:e,onChange:o,name:"closure_options","data-test-subj":"closure-options-radio-group"})},L=r.a.memo(N),A=({closureTypeSelected:e,disabled:t,onChangeClosureType:n})=>r.a.createElement(i.EuiDescribedFormGroup,{fullWidth:!0,title:r.a.createElement("h3",null,y.g),description:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,y.b),r.a.createElement("p",null,y.f)),"data-test-subj":"case-closure-options-form-group"},r.a.createElement(i.EuiFormRow,{fullWidth:!0,label:y.c,"data-test-subj":"case-closure-options-form-row"},r.a.createElement(L,{closureTypeSelected:e,disabled:t,onChangeClosureType:n,"data-test-subj":"case-closure-options-radio"}))),z=r.a.memo(A);var R=n(71),P=n(23);const _=s.a.div.withConfig({displayName:"FormWrapper",componentId:"sc-1kx5o74-0"})(["",""],(({theme:e})=>Object(o.css)(["& > *{margin-top 40px;}& >:first-child{margin-top:0;}padding-top:",";padding-bottom:",";.euiFlyout{z-index:",";}"],e.eui.paddingSizes.xl,e.eui.paddingSizes.xl,e.eui.euiZNavigation+1))),D=({userCanCrud:e})=>{const{triggersActionsUi:t}=Object(l.d)().services,[n,o]=Object(a.useState)(!0),[s,b]=Object(a.useState)(!1),[C,E]=Object(a.useState)(!1),[h,j]=Object(a.useState)(null),{connector:w,closureType:O,loading:v,mappings:x,persistLoading:T,persistCaseConfigure:k,refetchCaseConfigure:F,setConnector:I,setClosureType:N}=Object(g.a)(),{loading:L,connectors:A,refetchConnectors:P}=Object(d.a)(),{loading:D,actionTypes:G,refetchActionTypes:$}=(()=>{const e=Object(l.f)(),[t,n]=Object(a.useState)(!0),[r,o]=Object(a.useState)([]),s=Object(a.useRef)(!1),c=Object(a.useRef)(new AbortController),i=Object(a.useRef)(!0),u=Object(a.useCallback)((async()=>{try{n(!0),s.current=!1,c.current.abort(),c.current=new AbortController;const e=await Object(m.a)({signal:c.current.signal});s.current||(n(!1),o(e))}catch(t){s.current||(n(!1),o([]),e.addError(t.body&&t.body.message?new Error(t.body.message):t,{title:p.d}))}}),[e]);return Object(a.useEffect)((()=>(i.current&&(u(),i.current=!1),()=>{s.current=!0,c.current.abort(),i.current=!0})),[u]),{loading:t,actionTypes:r,refetchActionTypes:u}})(),W=Object(a.useMemo)((()=>G.filter((e=>u.SUPPORTED_CONNECTORS.includes(e.id)))),[G]),B=Object(a.useCallback)((async()=>{P(),$(),F()}),[$,F,P]),U=L||T||v||D,q=U||!n||"none"===w.id,H=Object(a.useCallback)((()=>{E(!0)}),[]),J=Object(a.useCallback)((()=>b(!1)),[b]),K=Object(a.useCallback)((()=>E(!1)),[]),V=Object(a.useCallback)((e=>{if("add-connector"===e)return void b(!0);const t=Object(S.a)(e,A),n=null!=t?Object(R.b)(t):Object(R.a)();I(n),k({connector:n,closureType:O})}),[A,O,k,I]),Y=Object(a.useCallback)((e=>{N(e),k({connector:w,closureType:e})}),[w,k,N]);Object(a.useEffect)((()=>{L||"none"===w.id||A.some((e=>e.id===w.id))?L||"none"!==w.id&&!A.some((e=>e.id===w.id))||o(!0):o(!1)}),[A,w,L]),Object(a.useEffect)((()=>{L||"none"===w.id||j(Object(R.c)(A,w))}),[A,w,L]);const Z=Object(a.useMemo)((()=>s?t.getAddConnectorFlyout({consumer:"case",onClose:J,actionTypes:W,reloadConnectors:B}):null),[s,W]),Q=Object(a.useMemo)((()=>h&&C?t.getEditConnectorFlyout({initialConnector:h,consumer:"case",onClose:K,reloadConnectors:B}):null),[w.id,C]);return r.a.createElement(_,null,!n&&r.a.createElement(f.c,{style:{marginTop:0}},r.a.createElement(i.EuiCallOut,{title:y.v,color:"warning",iconType:"help","data-test-subj":"configure-cases-warning-callout"},r.a.createElement(c.FormattedMessage,{defaultMessage:"The selected connector has been deleted or you do not have the {appropriateLicense} to use it. Either select a different connector or create a new one.",id:"xpack.cases.configure.connectorDeletedOrLicenseWarning",values:{appropriateLicense:r.a.createElement(i.EuiLink,{href:"https://www.elastic.co/subscriptions",target:"_blank"},y.s)}}))),r.a.createElement(f.c,null,r.a.createElement(z,{closureTypeSelected:O,disabled:T||L||!e,onChangeClosureType:Y})),r.a.createElement(f.c,null,r.a.createElement(M,{actionTypes:G,connectors:null!=A?A:[],disabled:T||L||!e,handleShowEditFlyout:H,isLoading:U,mappings:x,onChangeConnector:V,selectedConnector:w,updateConnectorDisabled:q||!e})),Z,Q)},G=r.a.memo((e=>r.a.createElement(P.b,{owner:e.owner},r.a.createElement(D,e))));t.default=G},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(3),r=n(51),o=n(49);const s=(e,t)=>{var n;return null!==(n=t.find((t=>t.id===e)))&&void 0!==n?n:null},c={[a.ConnectorTypes.swimlane]:r.a,[a.ConnectorTypes.serviceNowITSM]:o.a,[a.ConnectorTypes.serviceNowSIR]:o.a},i=({connectors:e=[],config:t={}})=>({...t,validations:[{validator:({value:t})=>{const n=s(t,e);var a;if(null!=n)return null===(a=c[n.actionTypeId])||void 0===a?void 0:a.call(c,n)}}]}),u=(e,t)=>{if(null==t)return"";try{if(e.actionTypeRegistry.has(t))return e.actionTypeRegistry.get(t).iconClass}catch{return""}return""},l=e=>null!=e&&((".servicenow"===e.actionTypeId||".servicenow-sir"===e.actionTypeId)&&!!e.config.usesTableApi)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{const{config:{usesTableApi:t}}=e;if(t)return{message:"Deprecated connector"}}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(23);const o=()=>{const e=Object(a.useContext)(r.a);if(0===e.length)throw new Error("useOwnerContext must be used within an OwnerProvider and not be an empty array");return e}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3);const r=["caseIdConfig","caseNameConfig","descriptionConfig","commentsConfig"],o=e=>{const{config:{mappings:t,connectorType:n}}=e;if(n===a.SwimlaneConnectorType.Alerts||(o=t,r.some((e=>null==(null==o?void 0:o[e])))))return{message:"Invalid connector"};var o}},52:function(e,t,n){"use strict";n.d(t,"r",(function(){return o})),n.d(t,"p",(function(){return s})),n.d(t,"q",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"o",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return h})),n.d(t,"v",(function(){return j})),n.d(t,"u",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"h",(function(){return v}));var a=n(1),r=n(12);n.d(t,"s",(function(){return r.u})),n.d(t,"t",(function(){return r.z}));const o=a.i18n.translate("xpack.cases.configureCases.incidentManagementSystemTitle",{defaultMessage:"External incident management system"}),s=a.i18n.translate("xpack.cases.configureCases.incidentManagementSystemDesc",{defaultMessage:"Connect your cases to an external incident management system. You can then push case data as an incident in a third-party system."}),c=a.i18n.translate("xpack.cases.configureCases.incidentManagementSystemLabel",{defaultMessage:"Incident management system"}),i=a.i18n.translate("xpack.cases.configureCases.addNewConnector",{defaultMessage:"Add new connector"}),u=a.i18n.translate("xpack.cases.configureCases.caseClosureOptionsTitle",{defaultMessage:"Case closures"}),l=a.i18n.translate("xpack.cases.configureCases.caseClosureOptionsDesc",{defaultMessage:"Define how to close your cases. Automatic closures require an established connection to an external incident management system."}),d=a.i18n.translate("xpack.cases.configureCases.caseClosureOptionsSubCases",{defaultMessage:"Automatic closure of sub-cases is not supported."}),p=a.i18n.translate("xpack.cases.configureCases.caseClosureOptionsLabel",{defaultMessage:"Case closure options"}),m=a.i18n.translate("xpack.cases.configureCases.caseClosureOptionsManual",{defaultMessage:"Manually close cases"}),g=a.i18n.translate("xpack.cases.configureCases.caseClosureOptionsNewIncident",{defaultMessage:"Automatically close cases when pushing new incident to external system"}),f=e=>a.i18n.translate("xpack.cases.configureCases.fieldMappingTitle",{values:{thirdPartyName:e},defaultMessage:"{ thirdPartyName } field mappings"}),b=e=>a.i18n.translate("xpack.cases.configureCases.fieldMappingDesc",{values:{thirdPartyName:e},defaultMessage:"Map Case fields to { thirdPartyName } fields when pushing data to { thirdPartyName }. Field mappings require an established connection to { thirdPartyName }."}),y=e=>a.i18n.translate("xpack.cases.configureCases.fieldMappingDescErr",{values:{thirdPartyName:e},defaultMessage:"Failed to retrieve mappings for { thirdPartyName }."}),C=a.i18n.translate("xpack.cases.configureCases.fieldMappingFirstCol",{defaultMessage:"Kibana case field"}),E=e=>a.i18n.translate("xpack.cases.configureCases.fieldMappingSecondCol",{values:{thirdPartyName:e},defaultMessage:"{ thirdPartyName } field"}),h=a.i18n.translate("xpack.cases.configureCases.fieldMappingThirdCol",{defaultMessage:"On edit and update"}),j=(a.i18n.translate("xpack.cases.configureCases.fieldMappingEditAppend",{defaultMessage:"Append"}),a.i18n.translate("xpack.cases.configureCases.cancelButton",{defaultMessage:"Cancel"}),a.i18n.translate("xpack.cases.configureCases.saveButton",{defaultMessage:"Save"}),a.i18n.translate("xpack.cases.configureCases.saveAndCloseButton",{defaultMessage:"Save & close"}),a.i18n.translate("xpack.cases.configureCases.warningTitle",{defaultMessage:"Warning"})),w=(a.i18n.translate("xpack.cases.configureCases.commentMapping",{defaultMessage:"Comments"}),a.i18n.translate("xpack.cases.configureCases.updateConnector",{defaultMessage:"Update field mappings"}),e=>a.i18n.translate("xpack.cases.configureCases.updateSelectedConnector",{values:{connectorName:e},defaultMessage:"Update { connectorName }"})),O=a.i18n.translate("xpack.cases.configureCases.deprecatedTooltipText",{defaultMessage:"deprecated"}),v=a.i18n.translate("xpack.cases.configureCases.deprecatedTooltipContent",{defaultMessage:"This connector is deprecated. Update it, or create a new one."})},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(21),r=n(22),o=n(3),s=n(20),c=n(24);const i=async({signal:e})=>await s.a.get().http.fetch(`${o.CASE_CONFIGURE_CONNECTORS_URL}/_find`,{method:"GET",signal:e}),u=async({signal:e,owner:t})=>{const n=await s.a.get().http.fetch(o.CASE_CONFIGURE_URL,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});if(!Object(a.isEmpty)(n)){const e=Object(c.e)(n);if(Array.isArray(e)&&e.length>0)return Object(c.c)(e[0])}return null},l=async(e,t)=>{const n=await s.a.get().http.fetch(o.CASE_CONFIGURE_URL,{method:"POST",body:JSON.stringify(e),signal:t});return Object(c.c)(Object(c.f)(n))},d=async(e,t,n)=>{const a=await s.a.get().http.fetch(Object(o.getCaseConfigurationDetailsUrl)(e),{method:"PATCH",body:JSON.stringify(t),signal:n});return Object(c.c)(Object(c.f)(a))},p=async({signal:e})=>{const t=await s.a.get().http.fetch(Object(r.a)(),{method:"GET",signal:e});return Object(c.b)(t)}},63:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(1),r=n(13);n.d(t,"a",(function(){return r.d}));const o=a.i18n.translate("xpack.cases.configure.successSaveToast",{defaultMessage:"Saved external connection settings"}),s=a.i18n.translate("xpack.cases.configure.readPermissionsErrorDescription",{defaultMessage:"You do not have permissions to view connectors. If you would like to view the connectors associated with this case, contact your Kibana administrator."})},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(2),r=n(59),o=n(20),s=n(63);const c=({toastPermissionsErrors:e=!0}={})=>{const t=Object(o.f)(),[n,c]=Object(a.useState)({loading:!0,connectors:[]}),i=Object(a.useRef)(!1),u=Object(a.useRef)(new AbortController),l=Object(a.useCallback)((async()=>{try{i.current=!1,u.current.abort(),u.current=new AbortController,c({...n,loading:!0});const e=await Object(r.b)({signal:u.current.signal});i.current||c({loading:!1,connectors:e})}catch(n){if(!i.current){let r;var a,o;if("AbortError"!==n.name)403!==(null===(a=n.body)||void 0===a?void 0:a.statusCode)&&401!==(null===(o=n.body)||void 0===o?void 0:o.statusCode)||(r=s.b),(void 0===r||e)&&t.addError(n.body&&n.body.message?new Error(n.body.message):n,{title:s.a});c({loading:!1,connectors:[],permissionsError:r})}}}),[]);return Object(a.useEffect)((()=>(l(),()=>{i.current=!0,u.current.abort()})),[]),{loading:n.loading,connectors:n.connectors,refetchConnectors:l,permissionsError:n.permissionsError}}},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n.n(a),o=n(6),s=n(1);const c=s.i18n.translate("xpack.cases.connectors.serviceNow.deprecatedConnectorWarningTitle",{defaultMessage:"This connector type is deprecated"}),i=s.i18n.translate("xpack.cases.connectors.serviceNow.deprecatedConnectorWarningDesc",{defaultMessage:"Update this connector, or create a new one."}),u=({type:e="warning"})=>r.a.createElement(o.EuiCallOut,{title:c,color:e,iconType:"alert","data-test-subj":"deprecated-connector-warning-callout"},i),l=r.a.memo(u)},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(2),r=n.n(a),o=n(6),s=n(33),c=n.n(s),i=n(3),u=n(52),l=n(20),d=n(47),p=n(37);const m=c()(o.EuiIcon).withConfig({displayName:"EuiIconExtended",componentId:"sc-12z1pzb-0"})(["margin-right:13px;margin-bottom:0 !important;"]),g={value:"none",inputDisplay:r.a.createElement(o.EuiFlexGroup,{gutterSize:"none",alignItems:"center",responsive:!1},r.a.createElement(o.EuiFlexItem,{grow:!1},r.a.createElement(m,{type:"minusInCircle",size:"m"})),r.a.createElement(o.EuiFlexItem,null,r.a.createElement("span",{"data-test-subj":"dropdown-connector-no-connector"},u.t))),"data-test-subj":"dropdown-connector-no-connector"},f={value:"add-connector",inputDisplay:r.a.createElement("span",{className:"euiButtonEmpty euiButtonEmpty--primary euiButtonEmpty--xSmall euiButtonEmpty--flushLeft"},u.a),"data-test-subj":"dropdown-connector-add-connector"},b=Object(p.euiStyled)(o.EuiIconTip)`
  margin-left: ${({theme:e})=>e.eui.euiSizeS}
  margin-bottom: 0 !important;
`,y=({connectors:e,disabled:t,isLoading:n,onChange:s,selectedConnector:c,appendAddConnectorButton:p=!1,hideConnectorServiceNowSir:y=!1})=>{const{triggersActionsUi:C}=Object(l.d)().services,E=Object(a.useMemo)((()=>{const t=e.reduce(((e,t)=>y&&t.actionTypeId===i.ConnectorTypes.serviceNowSIR?e:[...e,{value:t.id,inputDisplay:r.a.createElement(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},r.a.createElement(o.EuiFlexItem,{grow:!1},r.a.createElement(m,{type:Object(d.b)(C,t.actionTypeId),size:"m"})),r.a.createElement(o.EuiFlexItem,{grow:!1},r.a.createElement("span",null,t.name,Object(d.d)(t)&&` (${u.i})`)),Object(d.d)(t)&&r.a.createElement(o.EuiFlexItem,{grow:!1},r.a.createElement(b,{"aria-label":u.h,size:"m",type:"alert",color:"warning",content:u.h}))),"data-test-subj":`dropdown-connector-${t.id}`}]),[g]);return p?[...t,f]:t}),[e]);return r.a.createElement(o.EuiSuperSelect,{"aria-label":u.q,"data-test-subj":"dropdown-connectors",disabled:t,fullWidth:!0,isLoading:n,onChange:s,options:E,valueOfSelected:c})},C=r.a.memo(y)},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n(3);const r=()=>({id:"none",name:"none",type:a.ConnectorTypes.none,fields:null}),o=(e,t=null)=>{const n={type:e.actionTypeId,fields:t};return{id:e.id,name:e.name,...n}},s=(e,t)=>{var n;return null!==(n=e.find((e=>e.id===t.id)))&&void 0!==n?n:null}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(2),r=n(59),o=n(63),s=n(3),c=n(20),i=n(50);const u=(e,t)=>{switch(t.type){case"setLoading":return{...e,loading:t.payload};case"setFirstLoad":return{...e,firstLoad:t.payload};case"setPersistLoading":return{...e,persistLoading:t.payload};case"setVersion":return{...e,version:t.payload};case"setID":return{...e,id:t.payload};case"setCurrentConfiguration":return{...e,currentConfiguration:{...t.currentConfiguration}};case"setConnector":return{...e,connector:t.connector};case"setClosureType":return{...e,closureType:t.closureType};case"setMappings":return{...e,mappings:t.mappings};default:return e}},l={closureType:"close-by-user",connector:{fields:null,id:"none",name:"none",type:s.ConnectorTypes.none},currentConfiguration:{closureType:"close-by-user",connector:{fields:null,id:"none",name:"none",type:s.ConnectorTypes.none}},firstLoad:!1,loading:!0,mappings:[],persistLoading:!1,version:"",id:""},d=()=>{const e=Object(i.a)(),[t,n]=Object(a.useReducer)(u,l),s=Object(c.f)(),d=Object(a.useCallback)((e=>{n({currentConfiguration:e,type:"setCurrentConfiguration"})}),[]),p=Object(a.useCallback)((e=>{n({connector:e,type:"setConnector"})}),[]),m=Object(a.useCallback)((e=>{n({closureType:e,type:"setClosureType"})}),[]),g=Object(a.useCallback)((e=>{n({mappings:e,type:"setMappings"})}),[]),f=Object(a.useCallback)((e=>{n({payload:e,type:"setLoading"})}),[]),b=Object(a.useCallback)((e=>{n({payload:e,type:"setFirstLoad"})}),[]),y=Object(a.useCallback)((e=>{n({payload:e,type:"setPersistLoading"})}),[]),C=Object(a.useCallback)((e=>{n({payload:e,type:"setVersion"})}),[]),E=Object(a.useCallback)((e=>{n({payload:e,type:"setID"})}),[]),h=Object(a.useRef)(!1),j=Object(a.useRef)(new AbortController),w=Object(a.useRef)(!1),O=Object(a.useRef)(new AbortController),v=Object(a.useCallback)((async()=>{try{h.current=!1,j.current.abort(),j.current=new AbortController,f(!0);const n=await Object(r.c)({signal:j.current.signal,owner:e});h.current||(null!=n&&(p(n.connector),null!=m&&m(n.closureType),C(n.version),E(n.id),g(n.mappings),t.firstLoad||(b(!0),null!=d&&d({closureType:n.closureType,connector:{...n.connector}})),null!=n.error&&s.addError(new Error(n.error),{title:o.a})),f(!1))}catch(e){h.current||("AbortError"!==e.name&&s.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:o.a}),f(!1))}}),[t.firstLoad]),x=Object(a.useCallback)((async({connector:n,closureType:a})=>{try{w.current=!1,O.current.abort(),O.current=new AbortController,y(!0);const c={connector:n,closure_type:a},i=0===t.version.length?await Object(r.e)({...c,owner:e[0]},O.current.signal):await Object(r.d)(t.id,{...c,version:t.version},O.current.signal);w.current||(p(i.connector),m&&m(i.closureType),C(i.version),E(i.id),g(i.mappings),null!=d&&d({closureType:i.closureType,connector:{...i.connector}}),null!=i.error&&s.addError(new Error(i.error),{title:o.a}),s.addSuccess(o.c),y(!1))}catch(e){w.current||("AbortError"!==e.name&&s.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:o.a}),p(t.currentConfiguration.connector),y(!1))}}),[y,t.version,t.id,t.currentConfiguration.connector,e,p,m,C,E,g,d,s]);return Object(a.useEffect)((()=>(v(),()=>{h.current=!0,j.current.abort(),w.current=!0,O.current.abort()})),[]),{...t,refetchCaseConfigure:v,persistCaseConfigure:x,setCurrentConfiguration:d,setConnector:p,setClosureType:m,setMappings:g}}},93:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var a=n(33),r=n.n(a);const o=r.a.div.withConfig({displayName:"WhitePageWrapper",componentId:"sc-1jiyl3r-0"})(["background-color:",";border-top:",";flex:1 1 auto;"],(({theme:e})=>e.eui.euiColorEmptyShade),(({theme:e})=>e.eui.euiBorderThin)),s=r.a.div.withConfig({displayName:"SectionWrapper",componentId:"sc-1jiyl3r-1"})(["box-sizing:content-box;margin:0 auto;max-width:1175px;width:100%;"]),c=r.a.div.withConfig({displayName:"HeaderWrapper",componentId:"sc-1jiyl3r-2"})(["",";"],(({theme:e})=>`\n      padding: ${e.eui.paddingSizes.l} ${e.eui.paddingSizes.l} 0 ${e.eui.paddingSizes.l};\n      @media only screen and (max-width: ${e.eui.euiBreakpoints.s}) {\n        padding: ${e.eui.paddingSizes.s} ${e.eui.paddingSizes.s} 0\n          ${e.eui.paddingSizes.s};\n      }\n    `)),i=r.a.div.withConfig({displayName:"ContentWrapper",componentId:"sc-1jiyl3r-3"})(["",";"],(({theme:e})=>`\n      padding: ${e.eui.paddingSizes.l} ${e.eui.paddingSizes.l} 70px ${e.eui.paddingSizes.l};\n      @media only screen and (max-width: ${e.eui.euiBreakpoints.s}) {\n        padding: ${e.eui.paddingSizes.s} ${e.eui.paddingSizes.s} 70px\n          ${e.eui.paddingSizes.s};\n      }\n    `))}}]);