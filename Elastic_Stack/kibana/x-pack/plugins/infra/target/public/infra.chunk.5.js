/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[5],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(45),r=a(1),i=a.n(r),s=a(143);const l=({message:e,"data-test-subj":t="loadingPage"})=>i.a.createElement(s.a,{isEmptyState:!0,"data-test-subj":t},i.a.createElement(o,{message:e})),o=({message:e})=>i.a.createElement(n.EuiEmptyPrompt,{body:i.a.createElement(n.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},i.a.createElement(n.EuiFlexItem,{grow:!1},i.a.createElement(n.EuiLoadingSpinner,{size:"xl",style:{marginRight:"8px"}})),i.a.createElement(n.EuiFlexItem,null,e))})},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1),r=a.n(n);const i=(()=>{const e=[];return class extends r.a.Component{componentDidMount(){this.setState((()=>({index:e.push("")-1})),(()=>{this.pushTitle(this.getTitle(this.props.title)),this.updateDocumentTitle()}))}componentDidUpdate(){this.pushTitle(this.getTitle(this.props.title)),this.updateDocumentTitle()}componentWillUnmount(){this.removeTitle(),this.updateDocumentTitle()}render(){return null}getTitle(t){return"function"==typeof t?t(e[this.state.index-1]):t}pushTitle(t){e[this.state.index]=t}removeTitle(){e.pop()}updateDocumentTitle(){const t=(e[e.length-1]||"")+" - Kibana";t!==document.title&&(document.title=t)}}})()},106:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(46),r=a(1),i=a.n(r),s=a(102);const l=()=>i.a.createElement(s.a,{"data-test-subj":"sourceLoadingPage",message:i.a.createElement(n.FormattedMessage,{id:"xpack.infra.sourceLoadingPage.loadingDataSourcesMessage",defaultMessage:"Loading data sources"})})},116:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return h}));var n=a(176),r=a(71),i=a.n(r),s=a(1),l=a.n(s),o=a(205),c=a.n(o),u=a(204);const d={filterQuery:null,filterQueryDraft:{language:"kuery",query:""},validationErrors:[]},m=i()((({indexPattern:e})=>{const[t,a]=Object(s.useState)(d),r=Object(u.a)(),i=Object(s.useCallback)((t=>Object(n.b)(e,t,[],r)),[e,r]),l=Object(s.useCallback)((e=>{a((t=>({...t,filterQueryDraft:e,validationErrors:[]})))}),[]),[,o]=c()((()=>{a((e=>{try{return i(t.filterQueryDraft),{...e,validationErrors:[]}}catch(t){return{...e,validationErrors:[`${t}`]}}}))}),1e3,[t.filterQueryDraft,i]),m=Object(s.useCallback)((e=>{o();try{const t=i(e);a((a=>({...a,filterQuery:{parsedQuery:t,serializedQuery:JSON.stringify(t),originalQuery:e},filterQueryDraft:e,validationErrors:[]})))}catch(e){a((t=>({...t,validationErrors:[`${e}`]})))}}),[o,i]);return{filterQuery:t.filterQuery,filterQueryDraft:t.filterQueryDraft,isFilterQueryDraftValid:0===t.validationErrors.length,setLogFilterQueryDraft:l,applyLogFilterQuery:m}}));var p=a(0),f=a(101);const g=()=>{const{filterQuery:e,applyLogFilterQuery:t}=Object(s.useContext)(m.Context);return l.a.createElement(f.a,{urlState:null==e?void 0:e.originalQuery,urlStateKey:"logFilter",mapToUrlState:E,onChange:e=>{e&&t(e)},onInitialize:e=>{e&&t(e)}})},E=e=>y.is(e)?{language:e.kind,query:e.expression}:b.is(e)?e:void 0,h=e=>Object(f.d)("logFilter",e),b=p.type({language:p.string,query:p.string}),y=p.type({kind:p.literal("kuery"),expression:p.string})},138:function(e,t,a){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),s=[];function l(e){for(var t=-1,a=0;a<s.length;a++)if(s[a].identifier===e){t=a;break}return t}function o(e,t){for(var a={},n=[],r=0;r<e.length;r++){var i=e[r],o=t.base?i[0]+t.base:i[0],c=a[o]||0,u="".concat(o," ").concat(c);a[o]=c+1;var d=l(u),m={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(m)):s.push({identifier:u,updater:E(m,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=a.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function m(e,t,a,n){var r=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,a){var n=a.css,r=a.media,i=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,g=0;function E(e,t){var a,n,r;if(t.singleton){var i=g++;a=f||(f=c(t)),n=m.bind(null,a,i,!1),r=m.bind(null,a,i,!0)}else a=c(t),n=p.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var a=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var r=l(a[n]);s[r].references--}for(var i=o(e,t),c=0;c<a.length;c++){var u=l(a[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}a=i}}}},139:function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var r=(s=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(o," */")),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[a].concat(i).concat([r]).join("\n")}var s,l,o;return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var l=0;l<e.length;l++){var o=[].concat(e[l]);n&&r[o[0]]||(a&&(o[2]?o[2]="".concat(a," and ").concat(o[2]):o[2]=a),t.push(o))}},t}},141:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return l}));var n=a(101);const r=e=>{const t=Object(n.b)(Object(n.c)(e),"time");return t?parseFloat(t):NaN},i=e=>{const t=Object(n.b)(Object(n.c)(e),"filter");return t||""},s=e=>{const t=Object(n.b)(Object(n.c)(e),"to");return t?parseFloat(t):NaN},l=e=>{const t=Object(n.b)(Object(n.c)(e),"from");return t?parseFloat(t):NaN}},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return y}));var n=a(2),r=a(47),i=a(1),s=a.n(i),l=a(51),o=a(93),c=a.n(o),u=a(80),d=a(102),m=a(116),p=a(96),f=a(75),g=a(157),E=a(141),h=a(22);const b=({match:{params:{nodeId:e,nodeType:t,sourceId:a="default"}},location:i})=>{const{services:o}=Object(h.b)(),{isLoading:b,loadSource:y,sourceConfiguration:v}=Object(f.b)({fetch:o.http.fetch,sourceId:a,indexPatternsService:o.data.indexPatterns}),M=null==v?void 0:v.configuration.fields;if(c()((()=>{y()})),b)return s.a.createElement(d.a,{"data-test-subj":`nodeLoadingPage-${t}`,message:n.i18n.translate("xpack.infra.redirectToNodeLogs.loadingNodeLogsMessage",{defaultMessage:"Loading {nodeType} logs",values:{nodeType:t}})});if(null==M)return null;const x=`${Object(u.a)(t,M).id}: ${e}`,T=Object(E.a)(i),k=T?`(${x}) and (${T})`:x,S=Object(r.flowRight)(Object(m.c)({language:"kuery",query:k}),Object(p.c)(Object(E.c)(i)),Object(g.a)(a))("");return s.a.createElement(l.Redirect,{to:`/stream?${S}`})},y=({nodeId:e,nodeType:t,time:a})=>({app:"logs",pathname:`link-to/${t}-logs/${e}`,search:a?{time:`${a}`}:void 0})},145:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(45),r=a(98),i=a(1),s=a.n(i),l=a(11);const o=({children:e,isLoading:t,loadingChildren:a,...n})=>s.a.createElement(u,n,e,t?s.a.createElement(c,null,a):null),c=({children:e})=>s.a.createElement(d,null,e||s.a.createElement(n.EuiLoadingSpinner,{size:"xl"})),u=l.euiStyled.div`
  position: relative;
`,d=l.euiStyled.div`
  align-items: center;
  background-color: ${e=>Object(r.transparentize)(.3,e.theme.eui.euiColorEmptyShade)};
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
  z-index: ${e=>e.theme.eui.euiZLevel1};
`},146:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1);const r=e=>{const[t,a]=Object(n.useState)(e),r=Object(n.useCallback)((()=>a(!1)),[]),i=Object(n.useCallback)((()=>a(!0)),[]),s=Object(n.useCallback)((()=>a((e=>!e))),[]);return Object(n.useMemo)((()=>({hide:r,isVisible:t,show:i,toggle:s})),[r,t,i,s])}},152:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(45),r=a(2),i=a(46),s=a(1),l=a.n(s),o=a(145),c=a(146),u=a(210);const d=({availableDatasets:e,datasetFilter:t,isDisabled:a,onChangeDatasetFilter:r})=>{const{isVisible:o,hide:u,show:d}=Object(c.a)(!1),p=Object(s.useCallback)((e=>{const t=e.filter((({checked:e})=>"on"===e)).map((({label:e})=>e));r(0===t.length?{type:"includeAll"}:{type:"includeSome",datasets:t})}),[r]),f=Object(s.useMemo)((()=>e.map((({dataset:e,warnings:a})=>({label:e,append:a.length>0?l.a.createElement(m,{warnings:a}):null,checked:"includeSome"===t.type&&t.datasets.includes(e)?"on":void 0})))),[e,t]),g=l.a.createElement(n.EuiFilterButton,{disabled:a,isSelected:o,onClick:d,iconType:"arrowDown",size:"s"},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indexDatasetFilterIncludeAllButtonLabel",defaultMessage:"{includeType, select, includeAll {All datasets} includeSome {{includedDatasetCount, plural, one {# dataset} other {# datasets}}}}",values:{includeType:t.type,includedDatasetCount:"includeSome"===t.type?t.datasets.length:0}}));return l.a.createElement(n.EuiFilterGroup,null,l.a.createElement(n.EuiPopover,{button:g,closePopover:u,isOpen:o,panelPaddingSize:"none"},l.a.createElement(n.EuiSelectable,{onChange:p,options:f,searchable:!0},((e,t)=>l.a.createElement("div",null,l.a.createElement(n.EuiPopoverTitle,null,t),e)))))},m=({warnings:e})=>{const t=e.flatMap((e=>"categoryQualityWarning"===e.type?e.reasons.map((e=>l.a.createElement(u.a,{key:e.type,reason:e}))):[]));return l.a.createElement(n.EuiIconTip,{content:t,type:"alert",color:"warning"})},p=({index:e,isDisabled:t,onChangeDatasetFilter:a,onChangeIsSelected:r,previousQualityWarnings:o})=>{const c=Object(s.useCallback)((t=>{r(e.name,t.currentTarget.checked)}),[e.name,r]),u=Object(s.useCallback)((t=>a(e.name,t)),[e.name,a]),m=Object(s.useMemo)((()=>"valid"===e.validity?e.availableDatasets.map((e=>({dataset:e,warnings:o.filter((({dataset:t})=>t===e))}))):[]),[e,o]),p=Object(s.useMemo)((()=>o.filter((({dataset:e})=>""===e))),[o]),g=Object(s.useMemo)((()=>p.length>0||m.some((({warnings:e})=>e.length>0))),[p,m]),E="valid"===e.validity&&e.isSelected;return l.a.createElement(l.a.Fragment,null,l.a.createElement(n.EuiCheckbox,{key:e.name,id:e.name,label:l.a.createElement(l.a.Fragment,null,e.name,"valid"===e.validity&&g?l.a.createElement(n.EuiIconTip,{content:l.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.analsysisSetup.indexQualityWarningTooltipMessage",defaultMessage:"While analyzing the log messages from these indices we've detected some problems which might indicate a reduced quality of the results. Consider excluding these indices or problematic datasets from the analysis."}),type:"alert",color:"warning"}):null),onChange:c,checked:E,disabled:t||"invalid"===e.validity}),l.a.createElement(l.a.Fragment,null,"invalid"===e.validity?l.a.createElement(n.EuiText,{size:"xs",color:"textSubduedColor"},f(e.errors)):"valid"===e.validity?l.a.createElement(d,{availableDatasets:m,datasetFilter:e.datasetFilter,isDisabled:!E||t,onChangeDatasetFilter:u}):null),l.a.createElement(n.EuiSpacer,{size:"l"}))},f=e=>e.map((e=>{switch(e.error){case"INDEX_NOT_FOUND":return l.a.createElement("p",{key:`${e.error}-${e.index}`},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionIndexNotFound",defaultMessage:"No indices match the pattern {index}",values:{index:l.a.createElement(n.EuiCode,null,e.index)}}));case"FIELD_NOT_FOUND":return l.a.createElement("p",{key:`${e.error}-${e.index}-${e.field}`},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionNoTimestampField",defaultMessage:"At least one index matching {index} lacks a required field {field}.",values:{index:l.a.createElement(n.EuiCode,null,e.index),field:l.a.createElement(n.EuiCode,null,e.field)}}));case"FIELD_NOT_VALID":return l.a.createElement("p",{key:`${e.error}-${e.index}-${e.field}`},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTimestampNotValid",defaultMessage:"At least one index matching {index} has a field called {field} without the correct type.",values:{index:l.a.createElement(n.EuiCode,null,e.index),field:l.a.createElement(n.EuiCode,null,e.field)}}));default:return""}})),g=({disabled:e=!1,indices:t,isValidating:a,onChangeSelectedIndices:r,previousQualityWarnings:c=[],validationErrors:u=[]})=>{const d=Object(s.useCallback)(((e,a)=>{r(t.map((t=>t.name===e?{...t,isSelected:a}:t)))}),[t,r]),m=Object(s.useCallback)(((e,a)=>{r(t.map((t=>t.name===e?{...t,datasetFilter:a}:t)))}),[t,r]),f=u.length>0;return l.a.createElement(n.EuiFlexGroup,{direction:"column"},l.a.createElement(n.EuiFlexItem,null,l.a.createElement(n.EuiTitle,{size:"xs"},l.a.createElement("h3",null,l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTitle",defaultMessage:"Choose indices"}))),l.a.createElement(n.EuiText,{size:"s",color:"subdued"},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionDescription",defaultMessage:"By default, Machine Learning analyzes log messages in all log indices configured for the source. You can choose to only analyze a subset of the index names. Every selected index name must match at least one index with log entries. You can also choose to only include a certain subset of datasets. Note that the dataset filter applies to all selected indices."}))),l.a.createElement(n.EuiFlexItem,null,l.a.createElement(o.a,{isLoading:a},l.a.createElement(n.EuiFormRow,{fullWidth:!0,isInvalid:f,label:E,labelType:"legend"},l.a.createElement(l.a.Fragment,null,t.map((t=>l.a.createElement(p,{index:t,isDisabled:e,key:t.name,onChangeIsSelected:d,onChangeDatasetFilter:m,previousQualityWarnings:c}))))))))},E=r.i18n.translate("xpack.infra.analysisSetup.indicesSelectionLabel",{defaultMessage:"Indices"});var h=a(48),b=a.n(h),y=a(211);const v=r.i18n.translate("xpack.infra.analysisSetup.startTimeLabel",{defaultMessage:"Start time"}),M=r.i18n.translate("xpack.infra.analysisSetup.endTimeLabel",{defaultMessage:"End time"}),x=r.i18n.translate("xpack.infra.analysisSetup.startTimeDefaultDescription",{defaultMessage:"Start of log indices"}),T=r.i18n.translate("xpack.infra.analysisSetup.endTimeDefaultDescription",{defaultMessage:"Indefinitely"});function k(e){if(e)return e.valueOf()}const S=({disabled:e=!1,setStartTime:t,setEndTime:a,startTime:r,endTime:o,validationErrors:c=[]})=>{const[u]=Object(s.useState)((()=>b()())),d=!o||b()(o).isSame(u,"day"),m=Object(s.useMemo)((()=>r?b()(r):void 0),[r]),p=Object(s.useMemo)((()=>o?b()(o):void 0),[o]),f=Object(s.useMemo)((()=>O(c)),[c]),g=Object(s.useMemo)((()=>C(c)),[c]);return l.a.createElement(n.EuiFlexGroup,{direction:"column"},l.a.createElement(n.EuiFlexItem,null,l.a.createElement(n.EuiTitle,{size:"xs"},l.a.createElement("h3",null,l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.timeRangeTitle",defaultMessage:"Choose a time range"}))),l.a.createElement(n.EuiText,{size:"s",color:"subdued"},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.timeRangeDescription",defaultMessage:"By default, Machine Learning analyzes log messages in your log indices no older than four weeks, and continues indefinitely. You can specify a different date to begin, to end, or both."}))),l.a.createElement(n.EuiFlexItem,null,l.a.createElement(n.EuiFormRow,{error:f,fullWidth:!0,isInvalid:f.length>0,label:v},l.a.createElement(n.EuiFlexGroup,{gutterSize:"s"},l.a.createElement(n.EuiFormControlLayout,{clear:r&&!e?{onClick:()=>t(void 0)}:void 0,isDisabled:e},l.a.createElement(y.a,{disabled:e,showTimeSelect:!0,selected:m,onChange:e=>t(k(e)),placeholder:x,maxDate:u})))),l.a.createElement(n.EuiFormRow,{error:g,fullWidth:!0,isInvalid:g.length>0,label:M},l.a.createElement(n.EuiFlexGroup,{gutterSize:"s"},l.a.createElement(n.EuiFormControlLayout,{clear:o&&!e?{onClick:()=>a(void 0)}:void 0,isDisabled:e},l.a.createElement(y.a,{disabled:e,showTimeSelect:!0,selected:p,onChange:e=>a(k(e)),placeholder:T,openToDate:u,minDate:m,minTime:d?u:b()().hour(0).minutes(0),maxTime:b()().hour(23).minutes(59)}))))))},O=e=>e.flatMap((e=>{switch(e.error){case"INVALID_TIME_RANGE":return[r.i18n.translate("xpack.infra.analysisSetup.startTimeBeforeEndTimeErrorMessage",{defaultMessage:"The start time must be before the end time."})];default:return[]}})),C=e=>e.flatMap((e=>{switch(e.error){case"INVALID_TIME_RANGE":return[r.i18n.translate("xpack.infra.analysisSetup.endTimeAfterStartTimeErrorMessage",{defaultMessage:"The end time must be after the start time."})];default:return[]}}));var j=a(0),_=a(88);const F=j.strict({error:j.literal("INVALID_TIME_RANGE")}),w=e=>({title:A,children:l.a.createElement(R,e)}),R=({setStartTime:e,setEndTime:t,startTime:a,endTime:r,isValidating:i,validatedIndices:o,setupStatus:c,setValidatedIndices:u,validationErrors:d=[],previousQualityWarnings:m=[]})=>{const p=Object(s.useMemo)((()=>!D.includes(c.type)),[c]),[f,E,h]=Object(s.useMemo)((()=>P(d)),[d]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(n.EuiForm,null,l.a.createElement(S,{disabled:p,setStartTime:e,setEndTime:t,startTime:a,endTime:r,validationErrors:E}),l.a.createElement(n.EuiSpacer,{size:"xl"}),l.a.createElement(g,{disabled:p,indices:o,isValidating:i,onChangeSelectedIndices:u,previousQualityWarnings:m,validationErrors:f}),l.a.createElement(N,{errors:h})))},D=["required","failed","skipped"],L=r.i18n.translate("xpack.infra.analysisSetup.steps.initialConfigurationStep.errorCalloutTitle",{defaultMessage:"Your index configuration is not valid"}),A=r.i18n.translate("xpack.infra.analysisSetup.configurationStepTitle",{defaultMessage:"Configuration"}),N=({errors:e})=>0===e.length?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(n.EuiCallOut,{color:"danger",iconType:"alert",title:L},l.a.createElement("ul",null,e.map(((e,t)=>l.a.createElement("li",{key:t},I(e)))))),l.a.createElement(n.EuiSpacer,null)),I=e=>{switch(e.error){case"NETWORK_ERROR":return l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionNetworkError",defaultMessage:"We couldn't load your index configuration"});case"TOO_FEW_SELECTED_INDICES":return l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTooFewSelectedIndicesDescription",defaultMessage:"Select at least one index name."});default:return""}},P=e=>e.reduce((([e,t,a],n)=>_.v.is(n)?[[...e,n],t,a]:F.is(n)?[e,[...t,n],a]:[e,t,[...a,n]]),[[],[],[]])},153:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(45),r=a(2),i=a(46),s=a(1),l=a.n(s);const o=({isDisabled:e,onClick:t})=>l.a.createElement(n.EuiButton,{isDisabled:e,fill:!0,onClick:t},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.createMlJobButton",defaultMessage:"Create ML job"})),c=({isDisabled:e,onClick:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.deleteAnalysisResultsWarning",defaultMessage:"This removes previously detected anomalies.",tagName:"p"}),l.a.createElement(n.EuiButton,{isDisabled:e,fill:!0,onClick:t},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.recreateMlJobButton",defaultMessage:"Recreate ML jobs"}))),u=e=>({title:p,children:l.a.createElement(d,e),status:"pending"===e.setupStatus.type?"incomplete":"failed"===e.setupStatus.type?"danger":"succeeded"===e.setupStatus.type?"complete":void 0}),d=({cleanUpAndSetUp:e,errorMessages:t,isConfigurationValid:a,setUp:r,setupStatus:s,viewResults:u})=>l.a.createElement(n.EuiText,{size:"s"},"pending"===s.type?l.a.createElement(n.EuiFlexGroup,{alignItems:"center"},l.a.createElement(n.EuiFlexItem,{grow:!1},l.a.createElement(n.EuiLoadingSpinner,{size:"xl"})),l.a.createElement(n.EuiFlexItem,{grow:!1},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.loadingText",defaultMessage:"Creating ML job..."}))):"failed"===s.type?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.failureText",defaultMessage:"Something went wrong creating the necessary ML jobs. Please ensure all selected log indices exist."}),l.a.createElement(n.EuiSpacer,null),s.reasons.map(((e,t)=>l.a.createElement(n.EuiCallOut,{key:t,color:"danger",iconType:"alert",title:m},l.a.createElement(n.EuiCode,{transparentBackground:!0},e)))),l.a.createElement(n.EuiSpacer,null),l.a.createElement(n.EuiButton,{fill:!0,onClick:e},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.tryAgainButton",defaultMessage:"Try again"}))):"succeeded"===s.type?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.successText",defaultMessage:"The ML jobs have been set up successfully"}),l.a.createElement(n.EuiSpacer,null),l.a.createElement(n.EuiButton,{fill:!0,onClick:u},l.a.createElement(i.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.viewResultsButton",defaultMessage:"View results"}))):"required"===s.type?l.a.createElement(o,{isDisabled:!a,onClick:r}):l.a.createElement(c,{isDisabled:!a,onClick:e})),m=r.i18n.translate("xpack.infra.analysisSetup.steps.setupProcess.errorCalloutTitle",{defaultMessage:"An error occurred"}),p=r.i18n.translate("xpack.infra.analysisSetup.actionStepTitle",{defaultMessage:"Create ML job"})},163:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(45),r=a(1),i=a.n(r),s=a(185);const l=({children:e,hasSetupCapabilities:t,onRecreateMlJob:a,title:r})=>i.a.createElement(n.EuiCallOut,{color:"warning",iconType:"alert",title:r},e,i.a.createElement(s.b,{color:"warning",hasSetupCapabilities:t,onClick:a}))},164:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s}));var n=a(2);const r=n.i18n.translate("xpack.infra.logs.analysis.missingMlPrivilegesTitle",{defaultMessage:"Additional Machine Learning privileges required"}),i=n.i18n.translate("xpack.infra.logs.analysis.missingMlResultsPrivilegesDescription",{defaultMessage:"This feature makes use of Machine Learning jobs, which require at least the read permission for the Machine Learning app in order to access their status and results."}),s=n.i18n.translate("xpack.infra.logs.analysis.missingMlSetupPrivilegesDescription",{defaultMessage:"This feature makes use of Machine Learning jobs, which require all permissions for the Machine Learning app in order to be set up."})},171:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(45),r=a(1),i=a.n(r),s=a(54),l=a(70);const o=({anomalyScore:e})=>{const t=Object(r.useMemo)((()=>c(e)),[e]);return i.a.createElement(n.EuiHealth,{color:t},Object(s.getFormattedSeverityScore)(e))},c=e=>{const t=Object(l.m)(e);return null!=t&&t in l.a?l.a[t]:"subdued"}},172:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(218),r=a.n(n),i=a(22);const s=()=>{const e=Object(i.b)(),t=r()(e.services.spaces.getActiveSpace);return t.loading?{isLoading:!0,error:void 0,space:void 0}:t.error?{isLoading:!1,error:t.error,space:void 0}:{isLoading:!1,error:void 0,space:t.value}}},173:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(45),r=a(11);const i=r.euiStyled.div`
  display: flex;
  flex-direction: column;
  flex: 1 0 auto;
  width: 100%
`,s=r.euiStyled.div`
  flex: 1 0 0%;
  display: flex;
  flex-direction: row;
  background-color: ${e=>e.theme.eui.euiColorEmptyShade};
`;Object(r.euiStyled)(n.EuiPage)`
  align-self: stretch;
  flex: 1 0 0%;
`},174:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(52),r=a(1),i=n.__importDefault(a(268));t.default=function(e,t){void 0===t&&(t=200);var a=r.useState(e),n=a[0],s=a[1],l=r.useRef(),o=r.useRef(null),c=r.useRef(0);return r.useEffect((function(){if(l.current)o.current=e,c.current=!0;else{s(e);var a=function(){c.current?(c.current=!1,s(o.current),l.current=setTimeout(a,t)):l.current=void 0};l.current=setTimeout(a,t)}}),[e]),i.default((function(){l.current&&clearTimeout(l.current)})),n}},175:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(19);const r="infra-container-element",i=(e,t)=>{e.classList.add(n.APP_WRAPPER_CLASS),t&&e.setAttribute("data-test-subj",t)}},178:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return E})),a.d(t,"a",(function(){return y}));a(152),a(153);var n=a(45),r=a(1),i=a.n(r),s=a(11),l=a(164),o=a(69),c=a.n(o),u=a(46),d=a(73),m=a(22);const p=e=>{var t,a,r;const{services:{application:{capabilities:s}}}=Object(m.b)(),l=null!==(t=null==s||null===(a=s.management)||void 0===a||null===(r=a.security)||void 0===r?void 0:r.users)&&void 0!==t&&t,o=Object(d.b)({app:"management",pathname:"/security/users"});return l?i.a.createElement(n.EuiButton,c()({color:"primary",fill:!0},o,e),i.a.createElement(u.FormattedMessage,{id:"xpack.infra.logs.analysis.userManagementButtonLabel",defaultMessage:"Manage users"})):null},f=()=>i.a.createElement(g,{title:i.a.createElement("h2",null,l.a),body:i.a.createElement("p",null,l.b),actions:i.a.createElement(p,null)}),g=Object(s.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`,E=()=>i.a.createElement(h,{title:i.a.createElement("h2",null,l.a),body:i.a.createElement("p",null,l.c),actions:i.a.createElement(p,null)}),h=Object(s.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`;var b=a(2);Object(s.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`;const y=({retry:e})=>i.a.createElement(v,{title:i.a.createElement("h2",null,i.a.createElement(u.FormattedMessage,{id:"xpack.infra.logs.analysis.setupStatusUnknownTitle",defaultMessage:"We couldn't determine the status of your ML jobs."})),actions:i.a.createElement(n.EuiButton,{onClick:()=>e(),color:"primary",fill:!0},b.i18n.translate("xpack.infra.logs.analysis.setupStatusTryAgainButton",{defaultMessage:"Try again"}))}),v=Object(s.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(1),r=a.n(n),i=a(51),s=a(47),l=a(116),o=a(96),c=a(157),u=a(141);const d=({location:e,match:t})=>{const a=t.params.sourceId||"default",n=Object(u.a)(e),d=Object(s.flowRight)(Object(l.c)({language:"kuery",query:n}),Object(o.c)(Object(u.c)(e)),Object(c.a)(a))("");return r.a.createElement(i.Redirect,{to:`/stream?${d}`})};var m=a(142);const p=a(80).c.map((e=>e.id)).join("|"),f=e=>r.a.createElement(i.Switch,null,r.a.createElement(i.Route,{path:`${e.match.url}/:sourceId?/:nodeType(${p})-logs/:nodeId`,component:m.a}),r.a.createElement(i.Route,{path:`${e.match.url}/:sourceId?/logs`,component:d}),r.a.createElement(i.Route,{path:`${e.match.url}/:sourceId?`,component:d}),r.a.createElement(i.Redirect,{to:"/"}))},183:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return y}));var n=a(69),r=a.n(n),i=a(1),s=a.n(i),l=a(2),o=a(45),c=a(46),u=a(8),d=a(0),m=a(64),p=a(72),f=a(12);var g=a(102),E=a(143);const h=l.i18n.translate("xpack.infra.ml.splash.loadingMessage",{defaultMessage:"Checking license..."}),b=e=>s.a.createElement(E.a,r()({},e,{isEmptyState:!0}),s.a.createElement(y,null)),y=()=>{const{services:e}=Object(u.useKibana)(),{loadState:t,isTrialAvailable:a,checkTrialAvailability:n}=function(){const{services:e}=Object(u.useKibana)(),[t,a]=Object(i.useState)(!1),[n,r]=Object(p.c)({createPromise:async()=>{const t=await e.http.get(`${m.API_BASE_PATH}/start_trial`);return Object(f.b)(d.boolean)(t)},onResolve:e=>{a(e)},onReject:t=>{e.notifications.toasts.addDanger(l.i18n.translate("xpack.infra.trialStatus.trialStatusNetworkErrorMessage",{defaultMessage:"We could not determine if the trial license is available"}))}},[e]);return{loadState:n.state,isTrialAvailable:t,checkTrialAvailability:r}}();if(Object(i.useEffect)((()=>{n()}),[n]),"pending"===t)return s.a.createElement(g.b,{message:h});let r,E,b;return a&&"resolved"===t?(r=s.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.startTrialTitle",defaultMessage:"To access anomaly detection, start a free trial"}),E=s.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.startTrialDescription",defaultMessage:"Our free trial includes machine learning features, which enable you to detect anomalies in your logs."}),b=s.a.createElement(o.EuiButton,{fullWidth:!1,fill:!0,href:e.http.basePath.prepend("/app/management/stack/license_management")},s.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.startTrialCta",defaultMessage:"Start trial"}))):(r=s.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.updateSubscriptionTitle",defaultMessage:"To access anomaly detection, upgrade to a Platinum Subscription"}),E=s.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.updateSubscriptionDescription",defaultMessage:"You must have a Platinum Subscription to use machine learning features."}),b=s.a.createElement(o.EuiButton,{fullWidth:!1,fill:!0,href:"https://www.elastic.co/subscriptions"},s.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.updateSubscriptionCta",defaultMessage:"Upgrade subscription"}))),s.a.createElement(o.EuiEmptyPrompt,{iconType:"visLine",title:s.a.createElement("h2",null,r),body:s.a.createElement(o.EuiText,null,s.a.createElement("p",null,E)),actions:b})}},185:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(69),r=a.n(n),i=a(45),s=a(46),l=a(1),o=a.n(l),c=a(164);const u=e=>o.a.createElement(i.EuiToolTip,r()({},e,{content:c.c,title:c.a})),d=({hasSetupCapabilities:e=!0,children:t,...a})=>{const n=o.a.createElement(i.EuiButton,r()({isDisabled:!e},a),null!=t?t:o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.analysis.createJobButtonLabel",defaultMessage:"Create ML jobs"}));return e?n:o.a.createElement(u,{position:"bottom",delay:"regular"},n)},m=({children:e,...t})=>o.a.createElement(d,t,null!=e?e:o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.analysis.recreateJobButtonLabel",defaultMessage:"Recreate ML job"}))},200:function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(239);case"v7light":return a(241);case"v8dark":return a(243);case"v8light":return a(245)}},201:function(e,t,a){"use strict";a.d(t,"a",(function(){return NotFoundPage}));var n=a(46),r=a(1),i=a.n(r);class NotFoundPage extends i.a.PureComponent{render(){return i.a.createElement("div",{"data-test-subj":"infraNotFoundPage"},i.a.createElement(n.FormattedMessage,{id:"xpack.infra.notFoundPage.noContentFoundErrorTitle",defaultMessage:"No content found"}))}}},207:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1),r=a(8);const i=({feedbackLink:e,appName:t})=>{const a=Object(r.useKibana)().services.chrome;return Object(n.useEffect)((()=>null==a?void 0:a.setHelpExtension({appName:t,links:[{linkType:"discuss",href:e}]})),[e,t,a]),null}},208:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(69),r=a.n(n),i=a(1),s=a.n(i),l=a(51);const o=({from:e,to:t,...a})=>s.a.createElement(l.Route,{path:e,render:({location:n})=>n?s.a.createElement(l.Redirect,r()({},a,{from:e,to:"string"==typeof t?{...n,pathname:t}:{...n,...t}})):null})},209:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),r=a(86),i=a(22),s=a(73);const l=(e,t,a)=>{const{services:{chrome:l}}=Object(i.b)(),o=Object(s.b)({app:"observability-overview"}),c=Object(s.b)({app:e});Object(n.useEffect)((()=>{var e;null==l||null===(e=l.setBreadcrumbs)||void 0===e||e.call(l,[{...o,text:r.g},{...c,text:t},...a])}),[c,t,l,a,o])}},210:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return g}));var n=a(45),r=a(2),i=a(46),s=a(47),l=a(1),o=a.n(l),c=a(11),u=a(70),d=a(163);const m=({hasSetupCapabilities:e,onRecreateMlJob:t,qualityWarnings:a})=>{const[r]=Object(l.useState)(Object(n.htmlIdGenerator)()()),c=Object(s.groupBy)(a,"jobId");return o.a.createElement(o.a.Fragment,null,Object.entries(c).map((([a,s])=>o.a.createElement(d.a,{hasSetupCapabilities:e,key:`quality-warnings-callout-${a}`,onRecreateMlJob:t,title:f},o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.categoryQualityWarningCalloutMessage",defaultMessage:"While analyzing the log messages we've detected some problems which might indicate a reduced quality of the categorization results. Consider excluding the respective datasets from the analysis.",tagName:"p"}),o.a.createElement(n.EuiAccordion,{id:r,buttonContent:o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.categoryQualityWarningDetailsAccordionButtonLabel",defaultMessage:"Details"}),paddingSize:"m"},o.a.createElement(n.EuiDescriptionList,null,s.flatMap((e=>o.a.createElement(l.Fragment,{key:`item-${Object(u.j)(e.dataset)}`},o.a.createElement(n.EuiDescriptionListTitle,{"data-test-subj":`title-${e.dataset}`},Object(u.j)(e.dataset)),e.reasons.map((t=>o.a.createElement(p,{key:`description-${t.type}-${e.dataset}`,"data-test-subj":`description-${t.type}-${e.dataset}`},o.a.createElement(g,{reason:t}))))))))),o.a.createElement(n.EuiSpacer,{size:"l"})))))},p=Object(c.euiStyled)(n.EuiDescriptionListDescription)`
  display: list-item;
  list-style-type: disc;
  margin-left: ${e=>e.theme.eui.paddingSizes.m};
`,f=r.i18n.translate("xpack.infra.logs.logEntryCategories.categoryQUalityWarningCalloutTitle",{defaultMessage:"Quality warning"}),g=({reason:e})=>{switch(e.type){case"singleCategory":return o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.singleCategoryWarningReasonDescription",defaultMessage:"The analysis couldn't extract more than a single category from the log messages."});case"manyRareCategories":return o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.manyRareCategoriesWarningReasonDescription",defaultMessage:"{rareCategoriesRatio, number, percent} of the categories only rarely have messages assigned to them.",values:{rareCategoriesRatio:e.rareCategoriesRatio}});case"manyCategories":return o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.manyCategoriesWarningReasonDescription",defaultMessage:"The ratio of categories per analyzed document is very high with {categoriesDocumentRatio, number }.",values:{categoriesDocumentRatio:e.categoriesDocumentRatio.toFixed(2)}});case"noFrequentCategories":return o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.noFrequentCategoryWarningReasonDescription",defaultMessage:"None of the extracted categories frequently have messages assigned to them."});case"manyDeadCategories":return o.a.createElement(i.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.manyDeadCategoriesWarningReasonDescription",defaultMessage:"{deadCategoriesRatio, number, percent} of the categories won't have new messages assigned to them because they are overshadowed by less specific categories.",values:{deadCategoriesRatio:e.deadCategoriesRatio}})}}},211:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(69),r=a.n(n),i=a(45),s=a(1),l=a.n(s),o=a(11);const c=Object(o.euiStyled)((({className:e,inputClassName:t,...a})=>l.a.createElement(i.EuiDatePicker,r()({},a,{className:t,popperClassName:e}))))`
  z-index: 3 !important;
`},212:function(e,t,a){"use strict";var n=a(232);a.d(t,"a",(function(){return n.LogStream}))},218:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(52),r=a(1),i=n.__importDefault(a(261));t.default=function(e,t){void 0===t&&(t=[]);var a=i.default(e,t,{loading:!0}),n=a[0],s=a[1];return r.useEffect((function(){s()}),[s]),n}},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(1),r=a(2),i=a(8);const s=(e=!1)=>{const t=Object(i.useKibana)().services.chrome;return Object(n.useEffect)((()=>{null==t||t.setBadge(e?{text:r.i18n.translate("xpack.infra.header.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:r.i18n.translate("xpack.infra.header.badge.readOnly.tooltip",{defaultMessage:"Unable to change source configuration"}),iconType:"glasses"}:void 0)}),[t,e]),null}},239:function(e,t,a){var n=a(138),r=a(240);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},240:function(e,t,a){(t=a(139)(!1)).push([e.i,"",""]),e.exports=t},241:function(e,t,a){var n=a(138),r=a(242);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},242:function(e,t,a){(t=a(139)(!1)).push([e.i,"",""]),e.exports=t},243:function(e,t,a){var n=a(138),r=a(244);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},244:function(e,t,a){(t=a(139)(!1)).push([e.i,"",""]),e.exports=t},245:function(e,t,a){var n=a(138),r=a(246);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},246:function(e,t,a){(t=a(139)(!1)).push([e.i,"",""]),e.exports=t},261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(52),r=a(1),i=n.__importDefault(a(131));t.default=function(e,t,a){void 0===t&&(t=[]),void 0===a&&(a={loading:!1});var s=r.useRef(0),l=i.default(),o=r.useState(a),c=o[0],u=o[1];return[c,r.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=++s.current;return u((function(e){return n.__assign(n.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return l()&&r===s.current&&u({value:e,loading:!1}),e}),(function(e){return l()&&r===s.current&&u({error:e,loading:!1}),e}))}),t)]}},268:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(52),r=a(1),i=n.__importDefault(a(133));t.default=function(e){var t=r.useRef(e);t.current=e,i.default((function(){return function(){return t.current()}}))}},73:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return d}));var n=a(1),r=a(90),i=a(55),s=a(8);var l=a(29);const o=({app:e,pathname:t,hash:a,search:r},i={})=>{var o;u({app:e,pathname:t,hash:a,search:r});const{prompt:m}=Object(l.c)(),p=(()=>{var e;const t=null===(e=Object(s.useKibana)().services.application)||void 0===e?void 0:e.getUrlForApp;return Object(n.useMemo)((()=>{if(!t)throw new Error("Application core service is unavailable");return(e,a)=>t(e,{path:a})}),[t])})(),f=null===(o=Object(s.useKibana)().services.application)||void 0===o?void 0:o.navigateToApp,{hrefOnly:g}=i,E=Object(n.useMemo)((()=>r?c(r):void 0),[r]),h=Object(n.useMemo)((()=>a&&E?`${a}?${E}`:a),[a,E]),b=Object(n.useMemo)((()=>t&&E?`${t}?${E}`:t),[t,E]),y=Object(n.useMemo)((()=>p(e,`${null!=t?t:""}${a?"":E?`?${E}`:""}${h?`#${h}`:""}`)),[h,a,E,t,p,e]),v=Object(n.useMemo)((()=>t=>{if(!d(t))return;t.preventDefault();const a=()=>{if(f){const t=h?`#${h}`:b;f(e,{path:t||void 0})}};if(m){if(!window.confirm(m))return;a()}else a()}),[f,h,b,e,m]);return{href:y,onClick:g?void 0:v}},c=e=>Object(r.stringify)(i.url.encodeQuery(e),{sort:!1,encode:!1}),u=({app:e,pathname:t,hash:a,search:n})=>{if(!e&&a)throw new Error("The metrics and logs apps use browserHistory. Please provide a pathname rather than a hash.")},d=e=>{return!(e.defaultPrevented||(t=e,t.metaKey||t.altKey||t.ctrlKey||t.shiftKey));var t}},81:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return f})),a.d(t,"l",(function(){return b})),a.d(t,"k",(function(){return y})),a.d(t,"h",(function(){return v})),a.d(t,"j",(function(){return C})),a.d(t,"g",(function(){return j})),a.d(t,"f",(function(){return _})),a.d(t,"i",(function(){return I}));var n=a(2),r=a(0);const i=r.type({_shards:r.type({total:r.number,successful:r.number,skipped:r.number,failed:r.number}),timed_out:r.boolean,took:r.number}),s="logs.alert.document.count";r.keyof({count:null,ratio:null});let l;!function(e){e.GT="more than",e.GT_OR_EQ="more than or equals",e.LT="less than",e.LT_OR_EQ="less than or equals",e.EQ="equals",e.NOT_EQ="does not equal",e.MATCH="matches",e.NOT_MATCH="does not match",e.MATCH_PHRASE="matches phrase",e.NOT_MATCH_PHRASE="does not match phrase"}(l||(l={}));const o=r.keyof({[l.GT]:null,[l.GT_OR_EQ]:null,[l.LT]:null,[l.LT_OR_EQ]:null,[l.EQ]:null,[l.NOT_EQ]:null,[l.MATCH]:null,[l.NOT_MATCH]:null,[l.MATCH_PHRASE]:null,[l.NOT_MATCH_PHRASE]:null}),c={[l.GT]:n.i18n.translate("xpack.infra.logs.alerting.comparator.gt",{defaultMessage:"more than"}),[l.GT_OR_EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.gtOrEq",{defaultMessage:"more than or equals"}),[l.LT]:n.i18n.translate("xpack.infra.logs.alerting.comparator.lt",{defaultMessage:"less than"}),[l.LT_OR_EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.ltOrEq",{defaultMessage:"less than or equals"}),[l.EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.eq",{defaultMessage:"is"}),[l.NOT_EQ]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notEq",{defaultMessage:"is not"}),[`${l.EQ}:number`]:n.i18n.translate("xpack.infra.logs.alerting.comparator.eqNumber",{defaultMessage:"equals"}),[`${l.NOT_EQ}:number`]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notEqNumber",{defaultMessage:"does not equal"}),[l.MATCH]:n.i18n.translate("xpack.infra.logs.alerting.comparator.match",{defaultMessage:"matches"}),[l.NOT_MATCH]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notMatch",{defaultMessage:"does not match"}),[l.MATCH_PHRASE]:n.i18n.translate("xpack.infra.logs.alerting.comparator.matchPhrase",{defaultMessage:"matches phrase"}),[l.NOT_MATCH_PHRASE]:n.i18n.translate("xpack.infra.logs.alerting.comparator.notMatchPhrase",{defaultMessage:"does not match phrase"})};let u;!function(e){e[e.OK=0]="OK",e[e.ALERT=1]="ALERT",e[e.NO_DATA=2]="NO_DATA",e[e.ERROR=3]="ERROR"}(u||(u={}));const d=r.type({comparator:o,value:r.number}),m=r.type({field:r.string,comparator:o,value:r.union([r.string,r.number])}),p=r.partial(m.props),f=r.array(m),g=r.array(p),E=r.tuple([f,f]),h=r.tuple([g,g]),b=(r.union([g,h]),r.union([r.literal("s"),r.literal("m"),r.literal("h"),r.literal("d")])),y=r.number,v=r.array(r.string),M=r.type({count:d,timeUnit:b,timeSize:y}),x=(r.partial(M.props),r.partial({groupBy:v})),T=r.intersection([r.type({criteria:f,...M.props}),r.partial({...x.props})]),k=r.intersection([r.type({criteria:g,...M.props}),r.partial({...x.props})]),S=r.intersection([r.type({criteria:E,...M.props}),r.partial({...x.props})]),O=r.intersection([r.type({criteria:h,...M.props}),r.partial({...x.props})]),C=(r.union([T,S]),r.union([k,O]),e=>!!(e.length>0&&Array.isArray(e[0]))),j=e=>e[0],_=e=>e[1],F=r.type({key:r.number,doc_count:r.number}),w=r.partial({histogramBuckets:r.type({buckets:r.array(F)})}),R=r.type({total:r.type({value:r.number})}),D=r.type({key:r.record(r.string,r.string),doc_count:r.number}),L=r.partial({after_key:r.record(r.string,r.string)}),A=(r.intersection([i,r.intersection([r.type({hits:R}),r.partial({aggregations:w})])]),r.intersection([i,r.type({aggregations:r.type({groups:r.intersection([r.type({buckets:r.array(r.type({...D.props,filtered_results:r.intersection([r.type({doc_count:r.number}),w])}))}),L])}),hits:R})])),N=r.intersection([i,r.type({aggregations:r.type({groups:r.intersection([r.type({buckets:r.array(r.intersection([D,w]))}),L])}),hits:R})]),I=(r.union([A,N]),(e,t)=>e===l.GT||"number"==typeof t&&e===l.GT_OR_EQ&&t>0)},86:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return m}));var n=a(2);const r=n.i18n.translate("xpack.infra.header.observabilityTitle",{defaultMessage:"Observability"}),i=n.i18n.translate("xpack.infra.header.logsTitle",{defaultMessage:"Logs"}),s=n.i18n.translate("xpack.infra.logs.index.streamTabTitle",{defaultMessage:"Stream"}),l=n.i18n.translate("xpack.infra.logs.index.anomaliesTabTitle",{defaultMessage:"Anomalies"}),o=n.i18n.translate("xpack.infra.logs.index.logCategoriesBetaBadgeTitle",{defaultMessage:"Categories"}),c=n.i18n.translate("xpack.infra.logs.index.settingsTabTitle",{defaultMessage:"Settings"}),u=n.i18n.translate("xpack.infra.header.infrastructureTitle",{defaultMessage:"Metrics"}),d=n.i18n.translate("xpack.infra.metrics.inventoryPageTitle",{defaultMessage:"Inventory"}),m=n.i18n.translate("xpack.infra.metrics.metricsExplorerTitle",{defaultMessage:"Metrics Explorer"})},95:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"i",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return g})),a.d(t,"h",(function(){return E}));const n=e=>["started","starting","finished","stopped","failed"].includes(e);let r,i;!function(e){e.CRITICAL="critical",e.MAJOR="major",e.MINOR="minor",e.WARNING="warning",e.LOW="low",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.CRITICAL=75]="CRITICAL",e[e.MAJOR=50]="MAJOR",e[e.MINOR=25]="MINOR",e[e.WARNING=3]="WARNING",e[e.LOW=0]="LOW"}(i||(i={}));var s=a(0);const l=9e5,o="event.dataset",c=(e,t)=>`kibana-metrics-ui-${e}-${t}-`,u=(e,t,a)=>`${c(e,t)}${a}`,d=(e,t,a)=>`datafeed-${u(e,t,a)}`,m=s.union([s.strict({type:s.literal("includeAll")}),s.strict({type:s.literal("includeSome"),datasets:s.array(s.string)})]),p=s.partial({indexPattern:s.string,timestampField:s.string,bucketSpan:s.number,datasetFilter:m}),f=s.partial({job_revision:s.number,metrics_source_config:p}),g=(s.keyof({hosts_memory_usage:null,hosts_network_in:null,hosts_network_out:null}),["hosts_memory_usage","hosts_network_in","hosts_network_out"]),E=(s.keyof({k8s_memory_usage:null,k8s_network_in:null,k8s_network_out:null}),["k8s_memory_usage","k8s_network_in","k8s_network_out"])}}]);