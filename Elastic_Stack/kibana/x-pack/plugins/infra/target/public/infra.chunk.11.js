/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[11],{100:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.TIMESTAMP=t.TAGS=t.SPACE_IDS=t.KIBANA_NAMESPACE=t.EVENT_KIND=t.EVENT_ACTION=t.ECS_VERSION=t.CONSUMERS=t.ALERT_WORKFLOW_USER=t.ALERT_WORKFLOW_STATUS=t.ALERT_WORKFLOW_REASON=t.ALERT_UUID=t.ALERT_SYSTEM_STATUS=t.ALERT_STATUS=t.ALERT_START=t.ALERT_SEVERITY=t.ALERT_RULE_VERSION=t.ALERT_RULE_UUID=t.ALERT_RULE_UPDATED_BY=t.ALERT_RULE_UPDATED_AT=t.ALERT_RULE_TYPE_ID=t.ALERT_RULE_TYPE=t.ALERT_RULE_TO=t.ALERT_RULE_TAGS=t.ALERT_RULE_SEVERITY_MAPPING=t.ALERT_RULE_SEVERITY=t.ALERT_RULE_RULE_NAME_OVERRIDE=t.ALERT_RULE_RULE_ID=t.ALERT_RULE_RISK_SCORE_MAPPING=t.ALERT_RULE_RISK_SCORE=t.ALERT_RULE_REFERENCES=t.ALERT_RULE_PRODUCER=t.ALERT_RULE_PARAMS=t.ALERT_RULE_NOTE=t.ALERT_RULE_NAMESPACE=t.ALERT_RULE_NAME=t.ALERT_RULE_LICENSE=t.ALERT_RULE_INTERVAL=t.ALERT_RULE_FROM=t.ALERT_RULE_ENABLED=t.ALERT_RULE_DESCRIPTION=t.ALERT_RULE_CREATED_BY=t.ALERT_RULE_CREATED_AT=t.ALERT_RULE_CONSUMER=t.ALERT_RULE_CATEGORY=t.ALERT_RULE_AUTHOR=t.ALERT_RISK_SCORE=t.ALERT_REASON=t.ALERT_NAMESPACE=t.ALERT_INSTANCE_ID=t.ALERT_EVALUATION_VALUE=t.ALERT_EVALUATION_THRESHOLD=t.ALERT_END=t.ALERT_DURATION=t.ALERT_ACTION_GROUP=void 0;const r="kibana";t.KIBANA_NAMESPACE=r;const n="kibana.alert";t.ALERT_NAMESPACE=n;const i="kibana.alert.rule";t.ALERT_RULE_NAMESPACE=i;const l="kibana.consumers";t.CONSUMERS=l;const o="ecs.version";t.ECS_VERSION=o;const s="event.action";t.EVENT_ACTION=s;const c="event.kind";t.EVENT_KIND=c;const u="kibana.space_ids";t.SPACE_IDS=u;const d="tags";t.TAGS=d;const m="@timestamp";t.TIMESTAMP=m;const E="kibana.version";t.VERSION=E;const p="kibana.alert.action_group";t.ALERT_ACTION_GROUP=p;const g="kibana.alert.duration.us";t.ALERT_DURATION=g;const f="kibana.alert.end";t.ALERT_END=f;const T="kibana.alert.evaluation.threshold";t.ALERT_EVALUATION_THRESHOLD=T;const h="kibana.alert.evaluation.value";t.ALERT_EVALUATION_VALUE=h;const b="kibana.alert.instance.id";t.ALERT_INSTANCE_ID=b;const R="kibana.alert.reason";t.ALERT_REASON=R;const A="kibana.alert.risk_score";t.ALERT_RISK_SCORE=A;const y="kibana.alert.severity";t.ALERT_SEVERITY=y;const _="kibana.alert.start";t.ALERT_START=_;const L="kibana.alert.status";t.ALERT_STATUS=L;const O="kibana.alert.system_status";t.ALERT_SYSTEM_STATUS=O;const v="kibana.alert.uuid";t.ALERT_UUID=v;const k="kibana.alert.workflow_reason";t.ALERT_WORKFLOW_REASON=k;const x="kibana.alert.workflow_status";t.ALERT_WORKFLOW_STATUS=x;const S="kibana.alert.workflow_user";t.ALERT_WORKFLOW_USER=S;const M="kibana.alert.rule.author";t.ALERT_RULE_AUTHOR=M;const U="kibana.alert.rule.created_at";t.ALERT_RULE_CREATED_AT=U;const C="kibana.alert.rule.created_by";t.ALERT_RULE_CREATED_BY=C;const j="kibana.alert.rule.description";t.ALERT_RULE_DESCRIPTION=j;const I="kibana.alert.rule.enabled";t.ALERT_RULE_ENABLED=I;const N="kibana.alert.rule.from";t.ALERT_RULE_FROM=N;const F="kibana.alert.rule.interval";t.ALERT_RULE_INTERVAL=F;const w="kibana.alert.rule.license";t.ALERT_RULE_LICENSE=w;const D="kibana.alert.rule.category";t.ALERT_RULE_CATEGORY=D;const P="kibana.alert.rule.name";t.ALERT_RULE_NAME=P;const B="kibana.alert.rule.note";t.ALERT_RULE_NOTE=B;const z="kibana.alert.rule.params";t.ALERT_RULE_PARAMS=z;const G="kibana.alert.rule.references";t.ALERT_RULE_REFERENCES=G;const V="kibana.alert.rule.risk_score";t.ALERT_RULE_RISK_SCORE=V;const W="kibana.alert.rule.risk_score_mapping";t.ALERT_RULE_RISK_SCORE_MAPPING=W;const Q="kibana.alert.rule.rule_id";t.ALERT_RULE_RULE_ID=Q;const q="kibana.alert.rule.rule_name_override";t.ALERT_RULE_RULE_NAME_OVERRIDE=q;const Y="kibana.alert.rule.severity";t.ALERT_RULE_SEVERITY=Y;const K="kibana.alert.rule.severity_mapping";t.ALERT_RULE_SEVERITY_MAPPING=K;const $="kibana.alert.rule.tags";t.ALERT_RULE_TAGS=$;const H="kibana.alert.rule.to";t.ALERT_RULE_TO=H;const X="kibana.alert.rule.type";t.ALERT_RULE_TYPE=X;const J="kibana.alert.rule.rule_type_id";t.ALERT_RULE_TYPE_ID=J;const Z="kibana.alert.rule.updated_at";t.ALERT_RULE_UPDATED_AT=Z;const ee="kibana.alert.rule.updated_by";t.ALERT_RULE_UPDATED_BY=ee;const te="kibana.alert.rule.version";t.ALERT_RULE_VERSION=te;const ae="kibana.alert.rule.consumer";t.ALERT_RULE_CONSUMER=ae;const re="kibana.alert.rule.producer";t.ALERT_RULE_PRODUCER=re;const ne="kibana.alert.rule.uuid";t.ALERT_RULE_UUID=ne},123:function(e,t,a){"use strict";a.d(t,"i",(function(){return E})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return g})),a.d(t,"j",(function(){return f})),a.d(t,"k",(function(){return T})),a.d(t,"h",(function(){return h})),a.d(t,"g",(function(){return b})),a.d(t,"a",(function(){return A})),a.d(t,"e",(function(){return y})),a.d(t,"c",(function(){return _})),a.d(t,"b",(function(){return L}));var r=a(1),n=a.n(r),i=a(50),l=a(47),o=a(48),s=a.n(o),c=a(2),u=a(45),d=a(46),m=a(7);const E={headerFormatter:e=>s()(e.value).format("Y-MM-DD HH:mm:ss")},p=20,g={s:c.i18n.translate("xpack.infra.alerts.timeLabels.seconds",{defaultMessage:"seconds"}),m:c.i18n.translate("xpack.infra.alerts.timeLabels.minutes",{defaultMessage:"minutes"}),h:c.i18n.translate("xpack.infra.alerts.timeLabels.hours",{defaultMessage:"hours"}),d:c.i18n.translate("xpack.infra.alerts.timeLabels.days",{defaultMessage:"days"})},f=(e,t)=>Object(r.useMemo)((()=>"number"==typeof e&&"number"==typeof t?Object(i.niceTimeFormatter)([e,t]):e=>`${e}`),[e,t]),T=m.a,h=(e,t=!1)=>{let a=null,r=null;const n=e.reduce(((e,t)=>(t.points.forEach((t=>{const a=e[t.timestamp]||[];e[t.timestamp]=[...a,t.value]})),e)),{});Object.values(n).forEach((e=>{const n=t?Object(l.sum)(e):Object(l.max)(e),i=Object(l.min)(e);n&&(!r||n>r)&&(r=n),i&&(!a||i<a)&&(a=i)}));const i=Object.keys(n).map(Number),o=Object(l.min)(i)||0,s=Object(l.max)(i)||0;return{yMin:a||0,yMax:r||0,xMin:o,xMax:s}},b=e=>e?i.DARK_THEME:i.LIGHT_THEME,R=({children:e})=>n.a.createElement("div",{style:{width:"100%",height:150,display:"flex",justifyContent:"center",alignItems:"center"}},e),A=({children:e})=>n.a.createElement("div",{style:{width:"100%",height:150}},e),y=()=>n.a.createElement(R,null,n.a.createElement(u.EuiText,{color:"subdued","data-test-subj":"noChartData"},n.a.createElement(d.FormattedMessage,{id:"xpack.infra.alerts.charts.noDataMessage",defaultMessage:"No chart data available"}))),_=()=>n.a.createElement(R,null,n.a.createElement(u.EuiText,{color:"subdued","data-test-subj":"loadingData"},n.a.createElement(d.FormattedMessage,{id:"xpack.infra.alerts.charts.loadingMessage",defaultMessage:"Loading"}))),L=()=>n.a.createElement(R,null,n.a.createElement(u.EuiText,{color:"subdued","data-test-subj":"chartErrorState"},n.a.createElement(d.FormattedMessage,{id:"xpack.infra.alerts.charts.errorMessage",defaultMessage:"Uh oh, something went wrong"})))},156:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o}));var r=a(0);const n="metrics.alert.threshold",i="metrics.alert.inventory.threshold";let l,o;!function(e){e.GT=">",e.LT="<",e.GT_OR_EQ=">=",e.LT_OR_EQ="<=",e.BETWEEN="between",e.OUTSIDE_RANGE="outside"}(l||(l={})),function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e.RATE="rate",e.CARDINALITY="cardinality",e.P95="p95",e.P99="p99"}(o||(o={}));r.union([r.literal("hosts"),r.literal("k8s")]),r.union([r.literal("memory_usage"),r.literal("network_in"),r.literal("network_out")]),r.type({fieldName:r.string,fieldValue:r.string})},159:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(1),n=a.n(r),i=a(47),l=a(50),o=a(97),s=a(79);const c=.3,u=({threshold:e,sortedThresholds:t,comparator:a,color:r,id:u,firstTimestamp:d,lastTimestamp:m,domain:E})=>{if(!a||!e)return null;const p=[o.a.GT,o.a.GT_OR_EQ].includes(a),g=[o.a.LT,o.a.LT_OR_EQ].includes(a);return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.LineAnnotation,{id:`${u}-thresholds`,domainType:l.AnnotationDomainType.YDomain,"data-test-subj":"threshold-line",dataValues:t.map((e=>({dataValue:e}))),style:{line:{strokeWidth:2,stroke:Object(s.b)(r),opacity:1}}}),2===t.length&&a===o.a.BETWEEN?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.RectAnnotation,{id:`${u}-lower-threshold`,"data-test-subj":"between-rect",style:{fill:Object(s.b)(r),opacity:c},dataValues:[{coordinates:{x0:d,x1:m,y0:Object(i.first)(e),y1:Object(i.last)(e)}}]})):null,2===t.length&&a===o.a.OUTSIDE_RANGE?n.a.createElement(n.a.Fragment,null,n.a.createElement(l.RectAnnotation,{id:`${u}-lower-threshold`,"data-test-subj":"outside-range-lower-rect",style:{fill:Object(s.b)(r),opacity:c},dataValues:[{coordinates:{x0:d,x1:m,y0:E.min,y1:Object(i.first)(e)}}]}),n.a.createElement(l.RectAnnotation,{id:`${u}-upper-threshold`,"data-test-subj":"outside-range-upper-rect",style:{fill:Object(s.b)(r),opacity:c},dataValues:[{coordinates:{x0:d,x1:m,y0:Object(i.last)(e),y1:E.max}}]})):null,g&&null!=Object(i.first)(e)?n.a.createElement(l.RectAnnotation,{id:`${u}-upper-threshold`,"data-test-subj":"below-rect",style:{fill:Object(s.b)(r),opacity:c},dataValues:[{coordinates:{x0:d,x1:m,y0:E.min,y1:Object(i.first)(e)}}]}):null,p&&null!=Object(i.first)(e)?n.a.createElement(l.RectAnnotation,{id:`${u}-upper-threshold`,"data-test-subj":"above-rect",style:{fill:Object(s.b)(r),opacity:c},dataValues:[{coordinates:{x0:d,x1:m,y0:Object(i.first)(e),y1:E.max}}]}):null)}},160:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(45),n=a(2),i=a(1),l=a.n(i);const o=({options:e,onChange:t,fields:a,errorOptions:o})=>{const s=Object(i.useCallback)((e=>{const a=e.map((e=>e.label));t(a)}),[t]),c=Array.isArray(e.groupBy)?e.groupBy.map((e=>({label:e,color:null!=o&&o.includes(e)?"danger":void 0}))):e.groupBy?[{label:e.groupBy,color:null!=o&&o.includes(e.groupBy)?"danger":void 0}]:[];return l.a.createElement(r.EuiComboBox,{"data-test-subj":"metricsExplorer-groupBy",placeholder:n.i18n.translate("xpack.infra.metricsExplorer.groupByLabel",{defaultMessage:"Everything"}),"aria-label":n.i18n.translate("xpack.infra.metricsExplorer.groupByAriaLabel",{defaultMessage:"Graph per"}),fullWidth:!0,singleSelection:!1,selectedOptions:c,options:a.filter((e=>e.aggregatable&&"string"===e.type)).map((e=>({label:e.name}))),onChange:s,isClearable:!0})}},161:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(5),n=a.n(r),i=a(47),l=a(1),o=a(89),s=a(99),c=a(8),u=a(12),d=a(72);function m(e,t,a,r,m,E,p=!0){var g;const f=null===(g=Object(c.useKibana)().services.http)||void 0===g?void 0:g.fetch,[T,h]=Object(l.useState)(null),[b,R]=Object(l.useState)(!0),[A,y]=Object(l.useState)(null),[_,L]=Object(l.useState)(null),[O,v]=Object(l.useState)(null),k=n.a.parse(r.from),x=n.a.parse(r.to,{roundUp:!0}),[,S]=Object(d.c)({cancelPreviousOn:"creation",createPromise:()=>(R(!0),k&&x?f?t?f?f("/api/infra/metrics_explorer",{method:"POST",body:JSON.stringify({forceInterval:e.forceInterval,dropLastBucket:null==e.dropLastBucket||e.dropLastBucket,metrics:"count"===e.aggregation?[{aggregation:"count"}]:e.metrics.map((e=>({aggregation:e.aggregation,field:e.field}))),groupBy:e.groupBy,afterKey:m,limit:e.limit,indexPattern:t.metricAlias,filterQuery:e.filterQuery&&Object(s.a)(e.filterQuery,a)||void 0,timerange:{...r,field:t.fields.timestamp,from:k.valueOf(),to:x.valueOf()}})}):Promise.reject(new Error("HTTP service is unavailable")):Promise.reject(new Error("Source is unavailable")):Promise.reject(new Error("HTTP service is unavailable")):Promise.reject(new Error("Unalble to parse timerange"))),onResolve:t=>{R(!1);const a=Object(u.b)(o.e)(t);if(a){if(A&&_&&A.pageInfo.afterKey!==a.pageInfo.afterKey&&(n=_,l=e,Object(i.isEqual)(n,l))&&Object(i.isEqual)(r,O)&&m){const{series:e}=A;y({...a,series:[...e,...a.series]})}else y(a);L(e),v(r),h(null)}var n,l},onReject:e=>{h(e),R(!1)}},[t,r,e,E,m]);return Object(l.useEffect)((()=>{p&&S()}),[S,p]),{error:T,loading:b,data:A,loadData:S}}},291:function(e,t,a){"use strict";a.r(t),a.d(t,"QUERY_INVALID",(function(){return D})),a.d(t,"defaultExpression",(function(){return P})),a.d(t,"Expressions",(function(){return B}));var r=a(47),n=a(1),i=a.n(n),l=a(45),o=a(46),s=a(2),c=a(156),u=a(56),d=a(130),m=a(160),E=a(128),p=a(99);const g=(e,t)=>{const a=t?new RegExp(/0?\./):".",r=String(e).replace(a,"").length;return parseFloat((t?100*e:e/100).toPrecision(r))};var f=a(11);let T;!function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e.RATE="rate",e.CARDINALITY="cardinality",e.P95="p95",e.P99="p99"}(T||(T={}));var h=a(97);const b={...u.builtInComparators,[h.a.OUTSIDE_RANGE]:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.outsideRangeLabel",{defaultMessage:"Is not between"}),value:h.a.OUTSIDE_RANGE,requiredValues:2}},R=Object(f.euiStyled)(l.EuiFlexGroup)`
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  margin: 0 -4px;
`,A=f.euiStyled.div`
  padding: 0 4px;
`,y=Object(f.euiStyled)(l.EuiHealth)`
  margin-left: 4px;
`,_=e=>{var t,a;const[c,d]=Object(n.useState)(!0),m=Object(n.useCallback)((()=>d(!c)),[c]),{children:E,setAlertParams:p,expression:f,errors:b,expressionId:_,remove:v,fields:k,canDelete:x}=e,{aggType:S=T.MAX,metric:M,comparator:U=h.a.GT,threshold:C=[],warningThreshold:j=[],warningComparator:I}=f,[N,F]=Object(n.useState)(Boolean(null==j?void 0:j.length)),w=Object(n.useMemo)((()=>Boolean(M&&M.endsWith(".pct"))),[M]),D=Object(n.useCallback)((e=>{p(_,{...f,aggType:e,metric:"count"===e?void 0:f.metric})}),[_,f,p]),P=Object(n.useCallback)((e=>{p(_,{...f,metric:e})}),[_,f,p]),B=Object(n.useCallback)((e=>{p(_,{...f,comparator:e})}),[_,f,p]),z=Object(n.useCallback)((e=>{p(_,{...f,warningComparator:e})}),[_,f,p]),G=Object(n.useCallback)((e=>w?e.map((e=>(e=>g(e,!1))(e))):e),[w]),V=Object(n.useCallback)((e=>{const t=G(e);t.join()!==f.threshold.join()&&p(_,{...f,threshold:t})}),[_,f,G,p]),W=Object(n.useCallback)((e=>{var t;const a=G(e);a.join()!==(null===(t=f.warningThreshold)||void 0===t?void 0:t.join())&&p(_,{...f,warningThreshold:a})}),[_,f,G,p]),Q=Object(n.useCallback)((()=>{N?(F(!1),p(_,Object(r.omit)(f,"warningComparator","warningThreshold"))):(F(!0),p(_,{...f,warningComparator:U,warningThreshold:[]}))}),[N,F,p,U,f,_]),q=i.a.createElement(L,{comparator:U,threshold:C,updateComparator:B,updateThreshold:V,errors:null!==(t=b.critical)&&void 0!==t?t:{},isMetricPct:w}),Y=N&&i.a.createElement(L,{comparator:I||U,threshold:j,updateComparator:z,updateThreshold:W,errors:null!==(a=b.warning)&&void 0!==a?a:{},isMetricPct:w});return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiFlexGroup,{gutterSize:"xs"},i.a.createElement(l.EuiFlexItem,{grow:!1},i.a.createElement(l.EuiButtonIcon,{iconType:c?"arrowDown":"arrowRight",onClick:m,"aria-label":s.i18n.translate("xpack.infra.metrics.alertFlyout.expandRowLabel",{defaultMessage:"Expand row."})})),i.a.createElement(l.EuiFlexItem,{grow:!0},i.a.createElement(R,null,i.a.createElement(A,null,i.a.createElement(u.WhenExpression,{customAggTypesOptions:O,aggType:S,onChangeSelectedAggType:D})),"count"!==S&&i.a.createElement(A,null,i.a.createElement(u.OfExpression,{customAggTypesOptions:O,aggField:M,fields:k.map((e=>({normalizedType:e.type,name:e.name}))),aggType:S,errors:b,onChangeSelectedAggField:P,helpText:i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.ofExpression.helpTextDetail",defaultMessage:"Can't find a metric? {documentationLink}.",values:{documentationLink:i.a.createElement(l.EuiLink,{href:"https://www.elastic.co/guide/en/observability/current/configure-settings.html",target:"BLANK"},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.ofExpression.popoverLinkLabel",defaultMessage:"Learn how to add more data"}))}}),"data-test-subj":"ofExpression"})),!N&&q),N&&i.a.createElement(i.a.Fragment,null,i.a.createElement(R,null,q,i.a.createElement(y,{color:"danger"},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.criticalThreshold",defaultMessage:"Alert"}))),i.a.createElement(R,null,Y,i.a.createElement(y,{color:"warning"},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.warningThreshold",defaultMessage:"Warning"})),i.a.createElement(l.EuiButtonIcon,{"aria-label":s.i18n.translate("xpack.infra.metrics.alertFlyout.removeWarningThreshold",{defaultMessage:"Remove warningThreshold"}),iconSize:"s",color:"subdued",iconType:"crossInACircleFilled",onClick:Q}))),!N&&i.a.createElement(i.a.Fragment,null," ",i.a.createElement(l.EuiSpacer,{size:"xs"}),i.a.createElement(R,null,i.a.createElement(l.EuiButtonEmpty,{color:"primary",flush:"left",size:"xs",iconType:"plusInCircleFilled",onClick:Q},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.addWarningThreshold",defaultMessage:"Add warning threshold"}))))),x&&i.a.createElement(l.EuiFlexItem,{grow:!1},i.a.createElement(l.EuiButtonIcon,{"aria-label":s.i18n.translate("xpack.infra.metrics.alertFlyout.removeCondition",{defaultMessage:"Remove condition"}),color:"danger",iconType:"trash",onClick:()=>v(_)}))),c?i.a.createElement("div",{style:{padding:"0 0 0 28px"}},E):null,i.a.createElement(l.EuiSpacer,{size:"s"}))},L=({updateComparator:e,updateThreshold:t,threshold:a,isMetricPct:r,comparator:o,errors:s})=>{const c=Object(n.useMemo)((()=>r?a.map((e=>(e=>g(e,!0))(e))):a),[a,r]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(A,null,i.a.createElement(u.ThresholdExpression,{thresholdComparator:o||h.a.GT,threshold:c,customComparators:b,onChangeSelectedThresholdComparator:e,onChangeSelectedThreshold:t,errors:s})),r&&i.a.createElement("div",{style:{alignSelf:"center"}},i.a.createElement(l.EuiText,{size:"s"},"%")))},O={avg:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.avg",{defaultMessage:"Average"}),fieldRequired:!0,validNormalizedTypes:["number"],value:T.AVERAGE},max:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.max",{defaultMessage:"Max"}),fieldRequired:!0,validNormalizedTypes:["number","date"],value:T.MAX},min:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.min",{defaultMessage:"Min"}),fieldRequired:!0,validNormalizedTypes:["number","date"],value:T.MIN},cardinality:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.cardinality",{defaultMessage:"Cardinality"}),fieldRequired:!1,value:T.CARDINALITY,validNormalizedTypes:["number"]},rate:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.rate",{defaultMessage:"Rate"}),fieldRequired:!1,value:T.RATE,validNormalizedTypes:["number"]},count:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.count",{defaultMessage:"Document count"}),fieldRequired:!1,value:T.COUNT,validNormalizedTypes:["number"]},sum:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.sum",{defaultMessage:"Sum"}),fieldRequired:!1,value:T.SUM,validNormalizedTypes:["number"]},p95:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.p95",{defaultMessage:"95th Percentile"}),fieldRequired:!1,value:T.P95,validNormalizedTypes:["number"]},p99:{text:s.i18n.translate("xpack.infra.metrics.alertFlyout.aggregationText.p99",{defaultMessage:"99th Percentile"}),fieldRequired:!1,value:T.P99,validNormalizedTypes:["number"]}};var v=a(50),k=a(79),x=a(111),S=a(84),M=a(122),U=a(112),C=a(161);var j=a(134),I=a(22),N=a(123),F=a(159);const w=({expression:e,derivedIndexPattern:t,source:a,filterQuery:s,groupBy:c})=>{var u,d;const{loading:m,data:E}=((e,t,a,r,i)=>{const{timeSize:l,timeUnit:o}=e||{timeSize:1,timeUnit:"m"},s=Object(n.useMemo)((()=>({limit:1,forceInterval:!0,dropLastBucket:!1,groupBy:i,filterQuery:r,metrics:[{field:e.metric,aggregation:e.aggType}],aggregation:e.aggType||"avg"})),[e.aggType,e.metric,r,i]),c=Object(n.useMemo)((()=>({interval:`>=${l||1}${o}`,from:`now-${20*(l||1)}${o}`,to:"now"})),[l,o]);return Object(C.a)(s,null==a?void 0:a.configuration,t,c,null,null)})(e,t,a,s,c),{uiSettings:p}=Object(I.b)().services,g={field:e.metric,aggregation:e.aggType,color:k.a.color0},f=(null==p?void 0:p.get("theme:darkMode"))||!1,T=Object(n.useMemo)((()=>{var e,t;const a=Object(r.first)(null==E?void 0:E.series),n=null===(e=Object(r.first)(null==a?void 0:a.rows))||void 0===e?void 0:e.timestamp,i=null===(t=Object(r.last)(null==a?void 0:a.rows))||void 0===t?void 0:t.timestamp;return null==n||null==i?e=>`${e}`:Object(v.niceTimeFormatter)([n,i])}),[null==E?void 0:E.series]),h=Object(n.useCallback)(Object(M.a)(g),[e]);if(m||!E)return i.a.createElement(N.c,null);const b=e.threshold.slice().sort(),R=null!==(u=null===(d=e.warningThreshold)||void 0===d?void 0:d.slice().sort())&&void 0!==u?u:[],A=[...b,...R].sort(),y=Object(r.first)(E.series);if(!y||!y.rows||0===y.rows.length)return i.a.createElement(N.e,null);const _={...y,rows:y.rows.map((e=>{const t={...e};return A.forEach(((e,a)=>{t[Object(j.a)(g,`threshold_${a}`)]=e})),t}))},L=Object(r.first)(y.rows).timestamp,O=Object(r.last)(y.rows).timestamp,w=Object(U.a)(_,[g],!1),D={max:1.1*Math.max(w.max,Object(r.last)(A)||w.max),min:.9*Math.min(w.min,Object(r.first)(A)||w.min)};D.min===Object(r.first)(e.threshold)&&(D.min=.9*D.min);const{timeSize:P,timeUnit:B}=e,z=N.f[B];return i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,null,i.a.createElement(v.Chart,null,i.a.createElement(x.a,{type:S.b.bar,metric:g,id:"0",series:_,stack:!1}),i.a.createElement(F.a,{comparator:e.comparator,threshold:e.threshold,sortedThresholds:b,color:k.a.color1,id:"critical",firstTimestamp:L,lastTimestamp:O,domain:D}),e.warningComparator&&e.warningThreshold&&i.a.createElement(F.a,{comparator:e.warningComparator,threshold:e.warningThreshold,sortedThresholds:R,color:k.a.color5,id:"warning",firstTimestamp:L,lastTimestamp:O,domain:D}),i.a.createElement(v.Axis,{id:"timestamp",position:v.Position.Bottom,showOverlappingTicks:!0,tickFormat:T}),i.a.createElement(v.Axis,{id:"values",position:v.Position.Left,tickFormat:h,domain:D}),i.a.createElement(v.Settings,{tooltip:N.i,theme:Object(N.g)(f)}))),i.a.createElement("div",{style:{textAlign:"center"}},"ALL"!==_.id?i.a.createElement(l.EuiText,{size:"xs",color:"subdued"},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alerts.dataTimeRangeLabelWithGrouping",defaultMessage:"Last {lookback} {timeLabel} of data for {id}",values:{id:_.id,timeLabel:z,lookback:20*P}})):i.a.createElement(l.EuiText,{size:"xs",color:"subdued"},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alerts.dataTimeRangeLabel",defaultMessage:"Last {lookback} {timeLabel}",values:{timeLabel:z,lookback:20*P}}))))},D=Symbol("QUERY_INVALID"),P={aggType:c.a.AVERAGE,comparator:c.b.GT,threshold:[],timeSize:1,timeUnit:"m"},B=e=>{const{setAlertParams:t,alertParams:a,errors:g,metadata:f}=e,{http:T,notifications:h,docLinks:b}=Object(I.b)().services,{source:R,createDerivedIndexPattern:A}=Object(E.a)({sourceId:"default",fetch:T.fetch,toastWarning:h.toasts.addWarning}),[y,L]=Object(n.useState)(1),[O,v]=Object(n.useState)("m"),k=Object(n.useMemo)((()=>A()),[A]),x=Object(n.useMemo)((()=>{var e;return null!=f&&null!==(e=f.currentOptions)&&void 0!==e&&e.metrics?f.currentOptions:{metrics:[],aggregation:"avg"}}),[f]),S=Object(n.useCallback)(((e,r)=>{const n=a.criteria?a.criteria.slice():[];n[e]=r,t("criteria",n)}),[t,a.criteria]),M=Object(n.useCallback)((()=>{var e;const r=(null===(e=a.criteria)||void 0===e?void 0:e.slice())||[];r.push({...P,timeSize:null!=y?y:P.timeSize,timeUnit:null!=O?O:P.timeUnit}),t("criteria",r)}),[t,a.criteria,y,O]),U=Object(n.useCallback)((e=>{var r;const n=(null===(r=a.criteria)||void 0===r?void 0:r.slice())||[];n.length>1&&(n.splice(e,1),t("criteria",n))}),[t,a.criteria]),C=Object(n.useCallback)((e=>{t("filterQueryText",e);try{t("filterQuery",Object(p.a)(e,k,!1)||"")}catch(e){t("filterQuery",D)}}),[t,k]),j=Object(n.useCallback)(Object(r.debounce)(C,500),[C]),N=Object(n.useCallback)((e=>{t("groupBy",e&&e.length?e:"")}),[t]),F=Object(n.useMemo)((()=>({aggField:[],timeSizeUnit:[],timeWindowSize:[]})),[]),B=Object(n.useCallback)((e=>{var r;const n=(null===(r=a.criteria)||void 0===r?void 0:r.map((t=>({...t,timeSize:e}))))||[];L(e||void 0),t("criteria",n)}),[a.criteria,t]),z=Object(n.useCallback)((e=>{var r;const n=(null===(r=a.criteria)||void 0===r?void 0:r.map((t=>({...t,timeUnit:e}))))||[];v(e),t("criteria",n)}),[a.criteria,t]),G=Object(n.useCallback)((()=>{var e,a;const r=f;null!=r&&null!==(e=r.currentOptions)&&void 0!==e&&null!==(a=e.metrics)&&void 0!==a&&a.length?t("criteria",r.currentOptions.metrics.map((e=>({metric:e.field,comparator:c.b.GT,threshold:[],timeSize:y,timeUnit:O,aggType:e.aggregation})))):t("criteria",[P])}),[f,t,y,O]),V=Object(n.useCallback)((()=>{var e,a;const r=f;if(r&&null!==(e=r.currentOptions)&&void 0!==e&&e.filterQuery)t("filterQueryText",r.currentOptions.filterQuery),t("filterQuery",Object(p.a)(r.currentOptions.filterQuery,k)||"");else if(r&&null!==(a=r.currentOptions)&&void 0!==a&&a.groupBy&&r.series){const{groupBy:e}=r.currentOptions,a=Array.isArray(e)?e.map(((e,t)=>{var a,n;return`${e}: "${null===(a=r.series)||void 0===a||null===(n=a.keys)||void 0===n?void 0:n[t]}"`})).join(" and "):`${e}: "${r.series.id}"`;t("filterQueryText",a),t("filterQuery",Object(p.a)(a,k)||"")}}),[f,k,t]),W=Object(n.useCallback)((()=>{var e;const a=f;a&&null!==(e=a.currentOptions)&&void 0!==e&&e.groupBy&&!a.series&&t("groupBy",a.currentOptions.groupBy)}),[f,t]);Object(n.useEffect)((()=>{a.criteria&&a.criteria.length?(L(a.criteria[0].timeSize),v(a.criteria[0].timeUnit)):G(),a.filterQuery||V(),a.groupBy||W(),a.sourceId||t("sourceId",(null==R?void 0:R.id)||"default"),void 0===a.alertOnNoData&&t("alertOnNoData",!0),void 0===a.alertOnGroupDisappear&&t("alertOnGroupDisappear",!0)}),[f,R]);const Q=Object(n.useCallback)((e=>C(e.target.value)),[C]),q=Object(n.useMemo)((()=>{var e;return null===(e=a.criteria)||void 0===e?void 0:e.every((e=>e.aggType===c.a.RATE))}),[a.criteria]),Y=Object(n.useMemo)((()=>a.groupBy&&a.groupBy.length>0),[a.groupBy]),K=Object(n.useMemo)((()=>{if(!a.groupBy)return null;return(Array.isArray(a.groupBy)?a.groupBy:[a.groupBy]).map((e=>({groupName:e,pattern:new RegExp(`{"match(_phrase)?":{"${e}":"(.*?)"}}`)})))}),[a.groupBy]),$=Object(n.useMemo)((()=>{const{filterQuery:e}=a;return"string"==typeof e&&K?K.map((({groupName:t,pattern:a})=>{if(a.test(e))return t})).filter((e=>"string"==typeof e)):[]}),[a,K]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiText,{size:"xs"},i.a.createElement("h4",null,i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.conditions",defaultMessage:"Conditions"}))),i.a.createElement(l.EuiSpacer,{size:"xs"}),a.criteria&&a.criteria.map(((e,t)=>i.a.createElement(_,{canDelete:a.criteria&&a.criteria.length>1||!1,fields:k.fields,remove:U,addExpression:M,key:t,expressionId:t,setAlertParams:S,errors:g[t]||F,expression:e||{}},i.a.createElement(w,{expression:e,derivedIndexPattern:k,source:R,filterQuery:a.filterQueryText,groupBy:a.groupBy})))),i.a.createElement("div",{style:{marginLeft:28}},i.a.createElement(u.ForLastExpression,{timeWindowSize:y,timeWindowUnit:O,errors:F,onChangeWindowSize:B,onChangeWindowUnit:z})),i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement("div",null,i.a.createElement(l.EuiButtonEmpty,{color:"primary",iconSide:"left",flush:"left",iconType:"plusInCircleFilled",onClick:M},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.addCondition",defaultMessage:"Add condition"}))),i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiAccordion,{id:"advanced-options-accordion",buttonContent:s.i18n.translate("xpack.infra.metrics.alertFlyout.advancedOptions",{defaultMessage:"Advanced options"})},i.a.createElement(l.EuiPanel,{color:"subdued"},i.a.createElement(l.EuiCheckbox,{id:"metrics-alert-no-data-toggle",label:i.a.createElement(i.a.Fragment,null,s.i18n.translate("xpack.infra.metrics.alertFlyout.alertOnNoData",{defaultMessage:"Alert me if there's no data"})," ",i.a.createElement(l.EuiToolTip,{content:s.i18n.translate("xpack.infra.metrics.alertFlyout.noDataHelpText",{defaultMessage:"Enable this to trigger the action if the metric(s) do not report any data over the expected time period, or if the alert fails to query Elasticsearch"})},i.a.createElement(l.EuiIcon,{type:"questionInCircle",color:"subdued"}))),checked:a.alertOnNoData,onChange:e=>t("alertOnNoData",e.target.checked)}),i.a.createElement(l.EuiCheckbox,{id:"metrics-alert-partial-buckets-toggle",label:i.a.createElement(i.a.Fragment,null,s.i18n.translate("xpack.infra.metrics.alertFlyout.shouldDropPartialBuckets",{defaultMessage:"Drop partial buckets when evaluating data"})," ",i.a.createElement(l.EuiToolTip,{content:s.i18n.translate("xpack.infra.metrics.alertFlyout.dropPartialBucketsHelpText",{defaultMessage:"Enable this to drop the most recent bucket of evaluation data if it's less than {timeSize}{timeUnit}.",values:{timeSize:y,timeUnit:O}})},i.a.createElement(l.EuiIcon,{type:"questionInCircle",color:"subdued"}))),checked:q||a.shouldDropPartialBuckets,disabled:q,onChange:e=>t("shouldDropPartialBuckets",e.target.checked)}))),i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiFormRow,{label:s.i18n.translate("xpack.infra.metrics.alertFlyout.filterLabel",{defaultMessage:"Filter (optional)"}),helpText:s.i18n.translate("xpack.infra.metrics.alertFlyout.filterHelpText",{defaultMessage:"Use a KQL expression to limit the scope of your alert trigger."}),fullWidth:!0,display:"rowCompressed"},f&&i.a.createElement(d.a,{derivedIndexPattern:k,onChange:j,onSubmit:C,value:a.filterQueryText})||i.a.createElement(l.EuiFieldSearch,{onChange:Q,value:a.filterQueryText,fullWidth:!0})),i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiFormRow,{label:s.i18n.translate("xpack.infra.metrics.alertFlyout.createAlertPerText",{defaultMessage:"Group alerts by (optional)"}),helpText:s.i18n.translate("xpack.infra.metrics.alertFlyout.createAlertPerHelpText",{defaultMessage:'Create an alert for every unique value. For example: "host.id" or "cloud.region".'}),fullWidth:!0,display:"rowCompressed"},i.a.createElement(m.a,{onChange:N,fields:k.fields,options:{...x,groupBy:a.groupBy||void 0},errorOptions:$})),$.length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiText,{size:"xs",color:"danger"},i.a.createElement(o.FormattedMessage,{id:"xpack.infra.metrics.alertFlyout.alertPerRedundantFilterError",defaultMessage:"This rule may alert on {matchedGroups} less than expected, because the filter query contains a match for {groupCount, plural, one {this field} other {these fields}}. For more information, refer to {filteringAndGroupingLink}.",values:{matchedGroups:i.a.createElement("strong",null,$.join(", ")),groupCount:$.length,filteringAndGroupingLink:i.a.createElement(l.EuiLink,{href:`${b.links.observability.metricsThreshold}#filtering-and-grouping`},s.i18n.translate("xpack.infra.metrics.alertFlyout.alertPerRedundantFilterError.docsLink",{defaultMessage:"the docs"}))}}))),i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiCheckbox,{id:"metrics-alert-group-disappear-toggle",label:i.a.createElement(i.a.Fragment,null,s.i18n.translate("xpack.infra.metrics.alertFlyout.alertOnGroupDisappear",{defaultMessage:"Alert me if a group stops reporting data"})," ",i.a.createElement(l.EuiToolTip,{content:s.i18n.translate("xpack.infra.metrics.alertFlyout.groupDisappearHelpText",{defaultMessage:"Enable this to trigger the action if a previously detected group begins to report no results. This is not recommended for dynamically scaling infrastructures that may rapidly start and stop nodes automatically."})},i.a.createElement(l.EuiIcon,{type:"questionInCircle",color:"subdued"}))),disabled:!Y,checked:Boolean(Y&&a.alertOnGroupDisappear),onChange:e=>t("alertOnGroupDisappear",e.target.checked)}),i.a.createElement(l.EuiSpacer,{size:"m"}))};t.default=B},298:function(e,t,a){"use strict";a.r(t),a.d(t,"createMetricThresholdAlertType",(function(){return m}));var r=a(2),n=a(1),i=a.n(n),l=a(97),o=a(291);function s({criteria:e,filterQuery:t}){const a={errors:{}},n={};return a.errors=n,t===o.QUERY_INVALID&&(n.filterQuery=[r.i18n.translate("xpack.infra.metrics.alertFlyout.error.invalidFilterQuery",{defaultMessage:"Filter query is invalid."})]),e&&e.length?(e.forEach(((e,t)=>{const a=t.toString();n[a]=n[a]||{aggField:[],timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[],filterQuery:[]},e.aggType||n[a].aggField.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.aggregationRequired",{defaultMessage:"Aggregation is required."})),e.threshold&&e.threshold.length||n[a].critical.threshold0.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),e.warningThreshold&&!e.warningThreshold.length&&n[a].warning.threshold0.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const t of[{comparator:e.comparator,threshold:e.threshold,type:"critical"},{comparator:e.warningComparator,threshold:e.warningThreshold,type:"warning"}]){const{comparator:e,threshold:i,type:o}=t;i&&i.length&&![...i].every(c)&&[...i].forEach(((e,t)=>{if(!c(e)){const e=0===t?"threshold0":"threshold1";n[a][o][e].push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})),e===l.a.BETWEEN&&(!i||i.length<2)&&n[a][o].threshold1.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}e.timeSize||n[a].timeWindowSize.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),e.metric||"count"===e.aggType||n[a].metric.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."}))})),a):a}const c=e=>"number"==typeof e;var u=a(100);const d=({fields:e})=>{var t;return{reason:null!==(t=e[u.ALERT_REASON])&&void 0!==t?t:"-",link:"/app/metrics/explorer"}};function m(){return{id:l.b,description:r.i18n.translate("xpack.infra.metrics.alertFlyout.alertDescription",{defaultMessage:"Alert when the metrics aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.metricsThreshold}`,alertParamsExpression:i.a.lazy((()=>Promise.resolve().then(a.bind(null,291)))),validate:s,defaultActionMessage:r.i18n.translate("xpack.infra.metrics.alerting.threshold.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n"}),requiresAppContext:!1,format:d}}},85:function(e,t,a){"use strict";let r,n,i;a.d(t,"a",(function(){return r})),function(e){e.GT=">",e.LT="<",e.GT_OR_EQ=">=",e.LT_OR_EQ="<=",e.BETWEEN="between",e.OUTSIDE_RANGE="outside"}(r||(r={})),function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e.RATE="rate",e.CARDINALITY="cardinality",e.P95="p95",e.P99="p99"}(n||(n={})),function(e){e[e.OK=0]="OK",e[e.ALERT=1]="ALERT",e[e.WARNING=2]="WARNING",e[e.NO_DATA=3]="NO_DATA",e[e.ERROR=4]="ERROR"}(i||(i={}))},89:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return E})),a.d(t,"e",(function(){return R}));var r=a(0);const n=["avg","max","min","cardinality","rate","count","sum","p95","p99"],i=n.reduce(((e,t)=>({...e,[t]:null})),{}),l=r.keyof(i),o=r.type({aggregation:l}),s=r.partial({field:r.union([r.string,r[void 0]])}),c=r.intersection([o,s]),u=r.type({field:r.string,from:r.number,to:r.number,interval:r.string}),d=r.type({timerange:u,indexPattern:r.string,metrics:r.array(c)}),m=r.union([r.string,r.null,r[void 0]]),E=r.record(r.string,r.union([r.string,r.null])),p=r.partial({groupBy:r.union([m,r.array(m)]),afterKey:r.union([r.string,r.null,r[void 0],E]),limit:r.union([r.number,r.null,r[void 0]]),filterQuery:r.union([r.string,r.null,r[void 0]]),forceInterval:r.boolean,dropLastBucket:r.boolean}),g=(r.intersection([d,p]),r.type({total:r.number,afterKey:r.union([r.string,r.null,E])})),f=r.keyof({date:null,number:null,string:null}),T=r.type({name:r.string,type:f}),h=r.intersection([r.type({timestamp:r.number}),r.record(r.string,r.union([r.string,r.number,r.null,r[void 0],r.array(r.object)]))]),b=r.intersection([r.type({id:r.string,columns:r.array(T),rows:r.array(h)}),r.partial({keys:r.array(r.string)})]),R=r.type({series:r.array(b),pageInfo:g})},97:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var r=a(85);a.d(t,"a",(function(){return r.a}));const n="metrics.alert.threshold";let i;!function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e.RATE="rate",e.CARDINALITY="cardinality",e.P95="p95",e.P99="p99"}(i||(i={}))}}]);